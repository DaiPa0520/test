(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-a4abf7c0"],{"24b4":function(t,e,s){},"2bc1":function(t,e,s){"use strict";var a=s("2f62"),n=s("ed08"),o=s("6612"),r=s.n(o);function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter((function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})))),a.forEach((function(e){c(t,e,s[e])}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var l={name:"LevelManagementList",props:{},data:function(){return{wsType:"",loadingStatus:!1,loadingTable:!1,searchAccountItems:{valid:!1,account:"",searchStatus:!1,rules:[]},loadFilterMenuStatus:!1,selectStatusItems:{selected:"all",options:[]},selectRowsPerPageItems:{selected:25,options:[]},mapSportNameApi:{1:"美棒",2:"日棒",3:"台棒",4:"韓棒",5:"冰球",6:"籃球",7:"彩球",8:"美足",9:"網球",10:"足球",11:"指數",12:"賽馬＆賽狗",13:"電競",14:"其他",15:"世足",bingo:"BingoStar",royal:"皇家"},pagination:{currentPage:1,rowsPerPage:25,totalItems:0,totalVisible:10},rowsTableHeightClass:"rows5-table-h",currentPageCount:0}},watch:{"$store.state.lang":function(t){this.initLanguage()},getSuperAccountState:function(t){var e=this;this.pagination.totalItems=t.result.totalCount,t.result.list.forEach((function(t,s){t.id=parseInt(e.pagination.rowsPerPage*(e.pagination.currentPage-1)+(s+1))})),this.superAccountList.contents=t.result.list,this.currentPageCount=Object.keys(t.result.list).length},"selectStatusItems.selected":function(t){this.$route.query.pageType||(this.loadingTable=!0,this.pagination.currentPage=1,this.loadSuperAccount())},"selectRowsPerPageItems.selected":function(t){this.pagination.rowsPerPage=t},"pagination.rowsPerPage":function(t){this.$route.query.pageType||(this.loadingTable=!0,this.pagination.currentPage=1,this.loadSuperAccount())},currentPageCount:function(t){this.setTableHeight(this.selectRowsPerPageItems.selected)}},computed:i({},Object(a.c)({getSuperAccountState:"account-management/getSuperAccountState",getDashboardInfoState:"account-management/getDashboardInfoState"}),{pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}}),methods:i({},Object(a.b)({getDownAccount:"api/getDownAccount",getSuperAccount:"api/getSuperAccount",searchMember:"api/searchMember"}),{setTableHeight:function(t){switch(t){case 5:this.currentPageCount<5?this.rowsTableHeightClass=this.lessRowsPerPageSelected(this.currentPageCount):this.rowsTableHeightClass="rows5-table-h";break;case 10:this.currentPageCount<10?this.rowsTableHeightClass=this.lessRowsPerPageSelected(this.currentPageCount):this.rowsTableHeightClass="rows10-table-h";break;case 25:this.currentPageCount<25?this.rowsTableHeightClass=this.lessRowsPerPageSelected(this.currentPageCount):this.rowsTableHeightClass="rows25-table-h";break;case 50:this.currentPageCount<50?this.rowsTableHeightClass=this.lessRowsPerPageSelected(this.currentPageCount):this.rowsTableHeightClass="rows50-table-h"}},lessRowsPerPageSelected:function(t){return t<=4?"table-h":t<=9&&t>=5?"rows5-table-h":t<=15&&t>=10?"rows10-table-h":t<=24&&t>=16?"rows25-table-h":t<=37&&t>=25?"rows25-to-rows37-table-h":t<=49&&t>=38?"rows50-table-h":void 0},clearQuery:function(t){var e=Object.assign({},this.$route.query);delete e[t],this.$router.replace({query:e})},bingoAmountFormat:function(t){return r()(this.toChopOff(t,2)).format("0,0.00")},royalAmountFormat:function(t){return 1===this.wsType?r()(this.toRoundOff(t,2)).format("0,0.00"):2===this.wsType?r()(this.toRoundOff(t,4)).format("0,0.0000"):r()(t).format("0,0.00")},toRoundOff:function(t,e){return n.a.toRoundOff(t,e)},toChopOff:function(t,e){return n.a.toChopOff(t,e)},loadNextPage:function(t){this.pagination.currentPage=t,this.loadSuperAccount()},appendStatus:function(t){t&&this.loadSuperAccount()},setLoginStatus:function(t){t&&(""!==this.searchAccountItems.account?this.loadSuperAccount(this.searchAccountItems.account):this.loadSuperAccount())},setBetStatus:function(t){t&&(""!==this.searchAccountItems.account?this.loadSuperAccount(this.searchAccountItems.account):this.loadSuperAccount())},toPercent:function(t,e){return n.a.toPercent(t,e)},updateDashboardInfo:function(){var t=JSON.parse(sessionStorage.getItem("super.manage.dashboard.info"));if(t&&t.hasOwnProperty("noOpenGame"))for(var e in this.wsType=t.wsType,t.noOpenGame)this.closeGameType(t.noOpenGame[e])},closeGameType:function(t){var e=[];for(var s in this.superAccountList.headers)this.superAccountList.headers[s].type!==t&&e.push(this.superAccountList.headers[s]);this.superAccountList.headers=e,"s16"===t&&(this.superAccountList.bingoStarShow=!1),"s18"===t&&(this.superAccountList.royalShow=!1)},initLanguage:function(){var t=this;this.searchAccountItems.rules=[function(e){return/^[A-Za-z0-9]+$/.test(e)||""===e||t.$ln("需為英文或數字，不能為空格")}],this.selectStatusItems.options=[{text:this.$ln("全部"),value:"all"},{text:this.$ln("使用中"),value:0},{text:this.$ln("已鎖定"),value:1}],this.selectRowsPerPageItems.options=[{text:this.$ln("5筆"),value:5},{text:this.$ln("10筆"),value:10},{text:this.$ln("25筆"),value:25},{text:this.$ln("50筆"),value:50}]}}),beforeCreate:function(){},created:function(){this.initLanguage(),this.src=this.$options.__file},beforeMount:function(){},mounted:function(){this.updateDashboardInfo()},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},u=(s("81ae"),s("2877")),g=Object(u.a)(l,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,"52cf2be7",null);g.options.__file="List.vue";e.a=g.exports},"81ae":function(t,e,s){"use strict";var a=s("24b4");s.n(a).a},"953a":function(t,e,s){},"9ef3":function(t,e,s){"use strict";s.r(e);var a=s("ed08"),n=s("40e8"),o={name:"ShareholderManagement",mixins:[s("2bc1").a],components:{AppendSuperAccount:n["default"]},data:function(){return{levelInfo:{account:"",level:4},superAccountList:{showNoData:"目前無資料",headers:[{text:"#",align:"center",sortable:!1},{text:"股東帳號",align:"center",sortable:!1},{text:"股東名稱",align:"center",sortable:!1},{text:"體育額度".concat(sessionStorage.getItem("super.manage.dashboard.info.unit2")),align:"center",sortable:!1},{text:"BingoStar額度".concat(sessionStorage.getItem("super.manage.dashboard.info.unit2")),align:"center",sortable:!1,type:"s16"},{text:"皇家額度".concat(sessionStorage.getItem("super.manage.dashboard.info.unit2")),align:"center",sortable:!1,type:"s18"},{text:"允許登入",align:"center",sortable:!1},{text:"下線允許投注",align:"center",sortable:!1},{text:"拆帳百分比",align:"center",sortable:!1},{text:"總代理數",align:"center",sortable:!1},{text:"備註",align:"center",sortable:!1},{text:"登入錯誤次數",align:"center",sortable:!1},{text:"功能",align:"center",sortable:!1}],contents:[],bingoStarShow:!0,royalShow:!0}}},computed:{},watch:{},created:function(){var t=this;this.loadFilterMenuStatus=!0,sessionStorage.getItem("account.list.page")&&this.$route.query.pageType?this.pagination.currentPage=parseInt(sessionStorage.getItem("account.list.page")):this.pagination.currentPage=1,sessionStorage.getItem("account.list.rowsPerPage")&&this.$route.query.pageType&&(this.selectRowsPerPageItems.selected=parseInt(sessionStorage.getItem("account.list.rowsPerPage")),this.pagination.rowsPerPage=parseInt(sessionStorage.getItem("account.list.rowsPerPage"))),null!==sessionStorage.getItem("account.list.selectStatus")&&this.$route.query.pageType&&(this.selectStatusItems.selected=a.a.isNumber(sessionStorage.getItem("account.list.selectStatus"))?parseInt(sessionStorage.getItem("account.list.selectStatus")):sessionStorage.getItem("account.list.selectStatus")),this.loadSuperAccount(),this.loadingStatus=!0,setTimeout((function(){t.clearQuery("pageType"),t.loadFilterMenuStatus=!1}),1e3)},mounted:function(){},methods:{loadSuperAccount:function(t){var e=this,s={l_lv:this.levelInfo.level,l_no:this.levelInfo.account,l_status:this.selectStatusItems.selected,page:this.pagination.currentPage,perPage:this.pagination.rowsPerPage};t&&(s.searchAccount=t);try{this.getSuperAccount(s).then((function(t){if("[object Error]"===Object.prototype.toString.call(t)&&t.hasOwnProperty("response")&&200!==t.response.status){if(401===t.response.status)return;t.response.data.hasOwnProperty("errors")?a.a.errorMsgHandler(t.response.data.errors):e.$toastr.error(e.$ln("取得管端帳號列表失敗"))}else 200===t.status&&(t.data.hasOwnProperty("errors")||t.data.hasOwnProperty("result"));e.loadingStatus=!1,e.loadingTable=!1}))["catch"]((function(t){e.loadingStatus=!1,e.loadingTable=!1}))}catch(n){this.$toastr.error(this.$ln("站台資料錯誤，請聯絡客服"))}},search:function(){this.pagination.currentPage=1,this.searchAccountItems.account?(this.loadSuperAccount(this.searchAccountItems.account),this.loadingTable=!0):(this.$toastr.error(this.$ln("您查詢的帳號為空值")),this.pagination.currentPage=1,this.pagination.totalItems=0,this.superAccountList.contents=[])},checkLoginAccount:function(){return sessionStorage.getItem("super.manage.account")}}},r=(s("b64c"),s("2877")),i=Object(r.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"shareholderManagement"},[s("v-container",{attrs:{fluid:"","grid-list-xl":""}},[t.loadingStatus?s("div",{staticClass:"text-xs-center"},[s("MaterialLoadingPage")],1):s("div",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"mt-0",attrs:{xs6:"",tag:"h3"}},[t._v("\n          "+t._s(t.$ln("股東管理"))+"\n        ")]),s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[s("AppendSuperAccount",{on:{status:t.appendStatus}})],1)],1),s("div",[s("div",{staticClass:"d-inline-block mr-3",staticStyle:{width:"280px"}},[s("v-form",{attrs:{onSubmit:"return false;"},on:{submit:function(t){}},model:{value:t.searchAccountItems.valid,callback:function(e){t.$set(t.searchAccountItems,"valid",e)},expression:"searchAccountItems.valid"}},[s("v-layout",{attrs:{wrap:"",row:""}},[s("v-flex",{staticClass:"pr-0",attrs:{xs8:""}},[s("v-text-field",{attrs:{rules:t.searchAccountItems.rules,label:t.$ln("快速查詢帳號"),required:""},model:{value:t.searchAccountItems.account,callback:function(e){t.$set(t.searchAccountItems,"account",e)},expression:"searchAccountItems.account"}})],1),s("v-flex",{staticClass:"pt-4 px-0",attrs:{xs4:""}},[s("v-btn",{attrs:{small:"",color:"deep-orange darken-1",disabled:!t.searchAccountItems.valid||t.loadFilterMenuStatus},on:{click:function(e){t.search()}}},[t._v(t._s(t.$ln("查找")))])],1)],1)],1)],1),s("div",{staticClass:"d-inline-block mr-3",staticStyle:{width:"150px"}},[s("v-select",{attrs:{items:t.selectRowsPerPageItems.options,disabled:t.loadFilterMenuStatus,label:t.$ln("每頁顯示")},model:{value:t.selectRowsPerPageItems.selected,callback:function(e){t.$set(t.selectRowsPerPageItems,"selected",e)},expression:"selectRowsPerPageItems.selected"}})],1),s("div",{staticClass:"d-inline-block mr-3",staticStyle:{width:"150px"}},[s("v-select",{attrs:{items:t.selectStatusItems.options,disabled:t.loadFilterMenuStatus,label:t.$ln("選擇狀態")},model:{value:t.selectStatusItems.selected,callback:function(e){t.$set(t.selectStatusItems,"selected",e)},expression:"selectStatusItems.selected"}})],1)]),t.loadingTable?s("div",{staticClass:"text-xs-center"},[s("MaterialLoadingPage")],1):s("div",[parseInt(t.pagination.totalItems)>25&&parseInt(t.selectRowsPerPageItems.selected)>10&&t.pages>0?s("div",{staticClass:"text-xs-center pt-2"},[s("v-pagination",{attrs:{length:t.pages,"total-visible":t.pagination.totalVisible,color:"deep-orange darken-1"},on:{input:t.loadNextPage},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],1):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.pagination.totalItems,expression:"pagination.totalItems"}]},[s("p",{staticClass:"category d-inline-flex"},[t._v(t._s(t.$ln("共 %s 位股東",t.pagination.totalItems)))])]),s("CommonTable",{attrs:{Headers:t.superAccountList.headers,setClass:"no-rwd-table "+t.rowsTableHeightClass}},[Object.keys(t.superAccountList.contents).length>0?s("template",{slot:"tbody"},t._l(t.superAccountList.contents,(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.id))]),s("td",{staticClass:"text-xs-center"},[s("router-link",{attrs:{to:{path:"/manage/account-management/shareholder-management/edit",query:{account:e.l_no,page:t.pagination.currentPage,rowsPerPage:t.selectRowsPerPageItems.selected,selectStatus:t.selectStatusItems.selected}}}},[t._v(t._s(e.l_no))])],1),s("td",{staticClass:"text-xs-center minWidth100"},[t._v(t._s(e.l_name))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(t._f("amountFormat")(e.quota.LCtotal)))]),s("td",{directives:[{name:"show",rawName:"v-show",value:e.hasOwnProperty("quota")&&e.quota.hasOwnProperty("bingo")&&t.superAccountList.bingoStarShow,expression:"item.hasOwnProperty('quota') && item.quota.hasOwnProperty('bingo') && superAccountList.bingoStarShow"}],staticClass:"text-xs-center"},[t._v(t._s(t.bingoAmountFormat(e.quota.bingo)))]),s("td",{directives:[{name:"show",rawName:"v-show",value:e.hasOwnProperty("quota")&&e.quota.hasOwnProperty("royal")&&t.superAccountList.royalShow,expression:"item.hasOwnProperty('quota') && item.quota.hasOwnProperty('royal') && superAccountList.royalShow"}],staticClass:"text-xs-center"},[t._v(t._s(t.royalAmountFormat(e.quota.royal)))]),s("td",{staticClass:"text-xs-center"},[s("AccountManagementSetAllowLoginIndex",{attrs:{"login-status":e.l_status,account:e.l_no,level:t.levelInfo.level},on:{status:t.setLoginStatus}})],1),s("td",{staticClass:"text-xs-center"},[s("AccountManagementSetAllowBetIndex",{attrs:{"bet-status":e.l_close,account:e.l_no,level:t.levelInfo.level},on:{status:t.setBetStatus}})],1),s("td",{staticClass:"text-xs-left minWidth630"},t._l(e.occupy,(function(a,n,o){return s("span",{key:n,staticClass:"pr-1"},[t._v("\n                  "+t._s(t.$ln(t.mapSportNameApi[n]))+"："+t._s(a)+"%"+t._s(o===Object.keys(e.occupy).length-1?"":",")+"\n                ")])})),0),s("td",{staticClass:"text-xs-center"},[s("router-link",{attrs:{to:{path:"/manage/account-management/general-agent-management",query:{upAccount:e.l_no}}}},[t._v(t._s(e.down_count))])],1),s("td",{staticClass:"text-xs-center minWidth100"},[t._v(t._s(e.remark))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(e.err_count))]),s("td",{staticClass:"text-xs-center minWidth50"},[s("router-link",{staticClass:"light-blue--text darken-2--text",attrs:{to:{path:"/manage/account-management/shareholder-management/copy",query:{item:e}}}},[t._v("\n                  "+t._s(t.$ln("複製"))+"\n                ")])],1)])})),0):s("template",{slot:"tbody"},[s("tr",[s("td",{staticClass:"text-xs-center",attrs:{colspan:"13"}},[t._v(t._s(t.$ln(t.superAccountList.showNoData)))])])])],2),s("div",{directives:[{name:"show",rawName:"v-show",value:t.pagination.totalItems,expression:"pagination.totalItems"}]},[s("p",{staticClass:"category d-inline-flex"},[t._v(t._s(t.$ln("共 %s 位股東",t.pagination.totalItems)))])]),t.pages>0?s("div",{staticClass:"text-xs-center pt-2"},[s("v-pagination",{attrs:{length:t.pages,"total-visible":t.pagination.totalVisible,color:"deep-orange darken-1"},on:{input:t.loadNextPage},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],1):t._e()],1)],1)])],1)}),[],!1,null,null,null);i.options.__file="DirectList.vue";e["default"]=i.exports},b64c:function(t,e,s){"use strict";var a=s("953a");s.n(a).a}}]);
//# sourceMappingURL=chunk-a4abf7c0.96dc1957.js.map