(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3907e345"],{5744:function(t,e,s){},"8bde":function(t,e,s){"use strict";s.r(e);var l=s("a34a"),a=s.n(l),r=s("c1df"),o=s.n(r);function n(t,e,s,l,a,r,o){try{var n=t[r](o),c=n.value}catch(p){return void s(p)}n.done?e(c):Promise.resolve(c).then(l,a)}var c,p,i={name:"DailyReport",mixins:[s("0eee").a],data:function(){return{reportItems:{countDate:o()().add(1,"days").format("YYYY-MM-DD")},reportStatusEnv:1}},watch:{"$store.state.lang":function(t){this.initLanguage()}},mounted:function(){var t=this;this.initDateBtn(),this.loadingInit(),this.updateTimer=setInterval((function(){t.loadReportStatus(),t.loadNotCheckedSports()}),2e4)},methods:{initDateBtn:function(){for(var t in this.dateBtnItems.Today.date=o()().add(1,"days").format("YYYY-MM-DD"),this.dateBtnItems.Yesterday.date=o()().format("YYYY-MM-DD"),this.dateBtnItems)this.reportItems.countDate===this.dateBtnItems[t].date&&(this.currentClickDateBtn=t)},setToday:function(){this.reportItems.countDate=this.dateBtnItems.Today.date,this.currentClickDateBtn="Today"},setYesterday:function(){this.reportItems.countDate=this.dateBtnItems.Yesterday.date,this.currentClickDateBtn="Yesterday"},loadingInit:(c=a.a.mark((function d(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadingStatus=!0,t.next=3,this.loadReportStatus();case 3:return t.next=5,this.loadNotCheckedSports();case 5:return t.next=7,this.loadTodayNumberOfBills();case 7:this.loadingStatus=!1;case 8:case"end":return t.stop()}}),d,this)})),p=function(){var t=this,e=arguments;return new Promise((function(s,l){var a=c.apply(t,e);function r(t){n(a,s,l,r,o,"next",t)}function o(t){n(a,s,l,r,o,"throw",t)}r(undefined)}))},function(){return p.apply(this,arguments)}),search:function(){var t={},e=0;for(var s in t.sport=this.reportItems.ballTypeItems.selected.length,this.reportItems.bgTypeItems.show&&(t.bingo=this.reportItems.bgTypeItems.selected.length),this.reportItems.ryTypeItems.show&&(t.royal=this.reportItems.ryTypeItems.selected.length),t)0!==t[s]&&(e+=t[s]);0===e?this.$toastr.warning("您尚未勾選【館別/項目】"):this.$router.push({path:"/manage/report/daily-report/Result",query:{reportItems:this.reportItems}})},initLanguage:function(){var t=this;this.searchAccountItems.rules=[function(e){return/^[A-Za-z0-9]+$/.test(e)||""===e||t.$ln("需為英文或數字，不能為空格")}]}}},m=(s("9378"),s("2877")),u=Object(m.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"reportIndex",attrs:{fluid:""}},[t.reportStatus?s("ReportStatusImage",{attrs:{reportStatus:t.reportStatus}}):s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.loadingStatus,expression:"loadingStatus"}],staticClass:"text-xs-center"},[s("MaterialLoadingPage")],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loadingStatus,expression:"!loadingStatus"}]},[t.isEmpty(t.notCheckedSports)?t._e():s("div",[s("h4",{staticClass:"mt-0"},[t._v(t._s(t.$ln("目前未派彩")))]),s("div",{staticClass:"scrollbar"},t._l(t.notCheckedSports,(function(e,l){return s("v-chip",{key:l,staticClass:"ma-2",attrs:{color:"grey lighten-3"}},[t._v("\n            "+t._s(l)+"  "),s("span",{staticClass:"red--text px-1"},[t._v(t._s(e))]),t._v(t._s(t.$ln("場"))+"\n          ")])})),1)]),s("v-layout",{staticClass:"px-2 pt-1",attrs:{wrap:"",row:""}},[s("v-flex",{staticClass:"mt-0",attrs:{xl1:t.showChangeBtn,xl2:!t.showChangeBtn,lg2:t.showChangeBtn,lg5:!t.showChangeBtn,md2:t.showChangeBtn,md5:!t.showChangeBtn,xs12:"",tag:"h3"}},[t._v("\n          "+t._s(t.$ln("當日報表"))+"\n        ")]),s("v-flex",{attrs:{xl6:t.showChangeBtn,xl5:!t.showChangeBtn,lg5:t.showChangeBtn,lg2:!t.showChangeBtn,md5:t.showChangeBtn,md2:!t.showChangeBtn,xs6:!t.viMobileStatus,xs12:t.viMobileStatus}},[t.showChangeBtn?s("v-btn",{staticClass:"ma-2",attrs:{small:"",color:"amber darken-3",to:"/manage/report/history-report"}},[t._v("\n            "+t._s(t.$ln("前往歷史報表"))+"\n          ")]):t._e()],1),s("v-flex",{"class":[t.viMobileStatus?"text-xs-left":"text-xs-right"],attrs:{xl5:"",lg5:"",md5:"",xs6:!t.viMobileStatus,xs12:t.viMobileStatus}},[s("v-btn",{staticClass:"ma-2",attrs:{small:"",color:"deep-orange darken-1",disabled:!t.searchAccountItems.valid},on:{click:function(e){t.search()}}},[t._v("\n            "+t._s(t.$ln("查詢報表"))+"\n          ")])],1)],1),s("material-card",[s("v-form",{model:{value:t.reportItems.valid,callback:function(e){t.$set(t.reportItems,"valid",e)},expression:"reportItems.valid"}},[s("v-layout",{staticClass:"pb-2",attrs:{wrap:"",row:""}},[s("v-flex",{attrs:{xl1:"",lg2:"",md2:"",xs12:""}},[s("label",[t._v(t._s(t.$ln("帳務日期")))]),s("v-tooltip",{attrs:{top:""}},[s("v-icon",{attrs:{slot:"activator",color:"amber"},slot:"activator"},[t._v("mdi-information-outline")]),s("span",[t._v(t._s(t.$ln("%s 前的存帳請至「歷史報表」查詢",t.historyQueryDate)))])],1)],1),s("v-flex",{attrs:{xl11:"",lg10:"",md10:""}},[s("v-layout",{attrs:{wrap:"",row:""}},[s("v-flex",{attrs:{md6:"",xs4:""}},[t._v("\n                  "+t._s(t.reportItems.countDate)+"\n                ")]),s("v-flex",{staticClass:"text-md-right text-xs-left",attrs:{md6:"",xs12:""}},[s("v-btn",{attrs:{small:"",depressed:"",color:"Today"===t.currentClickDateBtn?"amber darken-1":"grey"},on:{click:function(e){t.setToday()}}},[t._v(t._s(t.$ln("今天")))]),t.todayNumberOfBills>0?s("v-btn",{attrs:{small:"",depressed:"",color:"Yesterday"===t.currentClickDateBtn?"amber darken-1":"grey"},on:{click:function(e){t.setYesterday()}}},[t._v(t._s(t.$ln("昨天")))]):s("v-btn",{attrs:{disabled:"",small:"",depressed:""}},[t._v(t._s(t.$ln("昨天")))])],1)],1)],1)],1),s("v-layout",{staticClass:"pb-2",attrs:{wrap:"",row:""}},[s("v-flex",{attrs:{xl1:"",lg2:"",md2:""}},[s("label",[t._v(t._s(t.$ln("館別/項目")))]),s("v-tooltip",{attrs:{top:""}},[s("v-icon",{attrs:{slot:"activator",color:"amber"},slot:"activator"},[t._v("mdi-information-outline")]),s("span",[t._v(t._s(t.$ln("必須勾選【館別/項目】選項才能搜尋報表")))])],1),s("v-checkbox",{staticClass:"v-input-checkbox",attrs:{label:t.$ln("全選")},model:{value:t.reportItems.typeSelectAll,callback:function(e){t.$set(t.reportItems,"typeSelectAll",e)},expression:"reportItems.typeSelectAll"}})],1),s("v-flex",{attrs:{xl11:"",lg10:"",md10:""}},[s("CommonCheckbox",{attrs:{TypeItems:t.reportItems.ballTypeItems,TypeSelectAll:t.ballTypeSelectAll,TypeSelectAllName:"體彩全部"},on:{"update:TypeItems":function(e){t.$set(t.reportItems,"ballTypeItems",e)},"update:TypeSelectAll":function(e){t.ballTypeSelectAll=e}}}),s("CommonCheckbox",{attrs:{TypeItems:t.reportItems.bgTypeItems,TypeSelectAll:t.bgTypeSelectAll,TypeSelectAllName:"BingoStar全部"},on:{"update:TypeItems":function(e){t.$set(t.reportItems,"bgTypeItems",e)},"update:TypeSelectAll":function(e){t.bgTypeSelectAll=e}}}),s("CommonCheckbox",{attrs:{TypeItems:t.reportItems.ryTypeItems,TypeSelectAll:t.ryTypeSelectAll,TypeSelectAllName:"皇家全部"},on:{"update:TypeItems":function(e){t.$set(t.reportItems,"ryTypeItems",e)},"update:TypeSelectAll":function(e){t.ryTypeSelectAll=e}}})],1)],1),s("v-layout",{staticClass:"pb-2",attrs:{wrap:"",row:""}},[s("v-flex",{attrs:{xl1:"",lg2:"",md2:""}},[s("label",[t._v(t._s(t.$ln("類型")))]),s("v-checkbox",{staticClass:"v-input-checkbox",attrs:{label:t.$ln("全選")},model:{value:t.reportItems.gameTypeSelectAll,callback:function(e){t.$set(t.reportItems,"gameTypeSelectAll",e)},expression:"reportItems.gameTypeSelectAll"}})],1),s("v-flex",{attrs:{xl11:"",lg10:"",md10:""}},[s("CommonCheckbox",{attrs:{TypeItems:t.reportItems.ballGameTypeItems,TypeSelectAll:t.ballGameTypeSelectAll,TypeSelectAllName:"體彩全部"},on:{"update:TypeItems":function(e){t.$set(t.reportItems,"ballGameTypeItems",e)},"update:TypeSelectAll":function(e){t.ballGameTypeSelectAll=e}}}),s("CommonCheckbox",{attrs:{TypeItems:t.reportItems.bgGameTypeItems,TypeSelectAll:t.reportItems.bgGameTypeItems.selected,TypeSelectAllName:"BingoStar全部 (同館別/項目)"},on:{"update:TypeItems":function(e){t.$set(t.reportItems,"bgGameTypeItems",e)},"update:TypeSelectAll":function(e){t.$set(t.reportItems.bgGameTypeItems,"selected",e)}}}),s("CommonCheckbox",{attrs:{TypeItems:t.reportItems.ryGameTypeItems,TypeSelectAll:t.reportItems.ryGameTypeItems.selected,TypeSelectAllName:"皇家全部 (同館別/項目)"},on:{"update:TypeItems":function(e){t.$set(t.reportItems,"ryGameTypeItems",e)},"update:TypeSelectAll":function(e){t.$set(t.reportItems.ryGameTypeItems,"selected",e)}}})],1)],1),s("v-layout",{staticClass:"pb-2",attrs:{wrap:"",row:""}},[s("v-flex",{attrs:{xl1:"",lg2:"",md2:""}},[s("label",[t._v(t._s(t.$ln("玩法")))]),s("v-checkbox",{staticClass:"v-input-checkbox",attrs:{label:t.$ln("全選")},model:{value:t.reportItems.playTypeSelectAll,callback:function(e){t.$set(t.reportItems,"playTypeSelectAll",e)},expression:"reportItems.playTypeSelectAll"}})],1),s("v-flex",{attrs:{xl11:"",lg10:"",md10:""}},[s("CommonCheckbox",{attrs:{TypeItems:t.reportItems.ballPlayTypeItems,TypeSelectAll:t.ballPlayTypeSelectAll,TypeSelectAllName:"體彩全部"},on:{"update:TypeItems":function(e){t.$set(t.reportItems,"ballPlayTypeItems",e)},"update:TypeSelectAll":function(e){t.ballPlayTypeSelectAll=e}}}),s("CommonCheckbox",{attrs:{TypeItems:t.reportItems.bgPlayTypeItems,TypeSelectAll:t.reportItems.bgPlayTypeItems.selected,TypeSelectAllName:"BingoStar全部 (同館別/項目)"},on:{"update:TypeItems":function(e){t.$set(t.reportItems,"bgPlayTypeItems",e)},"update:TypeSelectAll":function(e){t.$set(t.reportItems.bgPlayTypeItems,"selected",e)}}}),s("CommonCheckbox",{attrs:{TypeItems:t.reportItems.ryPlayTypeItems,TypeSelectAll:t.reportItems.ryPlayTypeItems.selected,TypeSelectAllName:"皇家全部 (同館別/項目)"},on:{"update:TypeItems":function(e){t.$set(t.reportItems,"ryPlayTypeItems",e)},"update:TypeSelectAll":function(e){t.$set(t.reportItems.ryPlayTypeItems,"selected",e)}}})],1)],1),s("v-form",{model:{value:t.searchAccountItems.valid,callback:function(e){t.$set(t.searchAccountItems,"valid",e)},expression:"searchAccountItems.valid"}},[s("v-layout",{attrs:{wrap:"",row:""}},[s("v-flex",{attrs:{xl1:"",md2:""}},[s("label",[t._v(t._s(t.$ln("查詢帳號")))])]),s("v-flex",{attrs:{xl3:"",md2:"",xs12:""}},[s("v-text-field",{attrs:{rules:t.searchAccountItems.rules,required:""},model:{value:t.reportItems.account,callback:function(e){t.$set(t.reportItems,"account",e)},expression:"reportItems.account"}})],1)],1)],1)],1)],1),s("div",{"class":["px-2",t.viMobileStatus?"text-xs-left":"text-xs-right"]},[s("v-btn",{staticClass:"ma-2",attrs:{small:"",color:"deep-orange darken-1",disabled:!t.searchAccountItems.valid},on:{click:function(e){t.search()}}},[t._v("\n          "+t._s(t.$ln("查詢報表"))+"\n        ")])],1)],1)])],1)}),[],!1,null,"1fec2de0",null);u.options.__file="index.vue";e["default"]=u.exports},9378:function(t,e,s){"use strict";var l=s("5744");s.n(l).a}}]);
//# sourceMappingURL=chunk-3907e345.fe91de0f.js.map