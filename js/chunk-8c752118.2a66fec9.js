(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8c752118","chunk-20f5cc76"],{"19e6":function(t,e,s){},"4a3c5":function(t,e,s){"use strict";var a=s("c191");s.n(a).a},ae7b:function(t,e,s){"use strict";var a=s("19e6");s.n(a).a},c191:function(t,e,s){},c262:function(t,e,s){"use strict";s.r(e);var a=s("2f62"),n=s("ed08");function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter((function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})))),a.forEach((function(e){r(t,e,s[e])}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i={name:"SubAccountManagement",components:{AppendSubAccount:s("fff4")["default"]},data:function(){return{loadingStatus:!1,loadFilterMenuStatus:!1,selectRowsPerPageItems:{selected:25,options:[]},subAccountList:{showNoData:"",headers:[{text:"#",align:"center",sortable:!1},{text:"帳號",align:"center",sortable:!1},{text:"名稱",align:"center",sortable:!1},{text:"身份",align:"center",sortable:!1},{text:"是否允許登入",align:"center",sortable:!1},{text:"備註",align:"center",sortable:!1}],contents:[]},pagination:{currentPage:1,rowsPerPage:25,totalItems:0,totalVisible:10}}},computed:o({},Object(a.c)({getSubAccountState:"account-management/getSubAccountState"}),{pages:function(){return null==this.pagination.rowsPerPage||null==this.pagination.totalItems?0:Math.ceil(this.pagination.totalItems/this.pagination.rowsPerPage)}}),watch:{"$store.state.lang":function(t){this.initLanguage()},getSubAccountState:function(t){this.pagination.totalItems=t.result.totalCount,this.subAccountList.contents=t.result.list},"selectRowsPerPageItems.selected":function(t){this.pagination.rowsPerPage=t},"pagination.rowsPerPage":function(t){this.$route.query.pageType||(this.pagination.currentPage=1,this.loadSubAccount())}},created:function(){var t=this;this.initLanguage(),this.loadFilterMenuStatus=!0,sessionStorage.getItem("account.list.page")&&this.$route.query.pageType?this.pagination.currentPage=parseInt(sessionStorage.getItem("account.list.page")):this.pagination.currentPage=1,sessionStorage.getItem("account.list.rowsPerPage")&&this.$route.query.pageType&&(this.selectRowsPerPageItems.selected=parseInt(sessionStorage.getItem("account.list.rowsPerPage")),this.pagination.rowsPerPage=parseInt(sessionStorage.getItem("account.list.rowsPerPage"))),this.loadSubAccount(),this.loadingStatus=!0,setTimeout((function(){t.clearQuery("pageType"),t.loadFilterMenuStatus=!1}),1e3)},methods:o({},Object(a.b)({getSubAccount:"api/getSubAccount"}),{loadSubAccount:function(){var t=this,e={page:this.pagination.currentPage,perPage:this.pagination.rowsPerPage};try{this.getSubAccount(e).then((function(e){if("[object Error]"===Object.prototype.toString.call(e)&&e.hasOwnProperty("response")&&200!==e.response.status){if(401===e.response.status)return;e.response.data.hasOwnProperty("errors")?n.a.errorMsgHandler(e.response.data.errors):t.$toastr.error("".concat(t.$ln("取得子帳號列表失敗")))}else 200===e.status&&(e.data.hasOwnProperty("errors")||e.data.hasOwnProperty("result"));t.loadingStatus=!1}))["catch"]((function(e){t.loadingStatus=!1}))}catch(s){this.$toastr.error("".concat(this.$ln("站台資料錯誤，請聯絡客服")))}},loadNextPage:function(t){this.pagination.currentPage=t,this.loadSubAccount()},appendStatus:function(t){t&&this.loadSubAccount()},clearQuery:function(t){var e=Object.assign({},this.$route.query);delete e[t],this.$router.replace({query:e})},initLanguage:function(){this.selectRowsPerPageItems.options=[{text:this.$ln("5筆"),value:5},{text:this.$ln("10筆"),value:10},{text:this.$ln("25筆"),value:25},{text:this.$ln("50筆"),value:50}],this.subAccountList.showNoData=this.$ln("尚無資料")}})},l=(s("4a3c5"),s("2877")),c=Object(l.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"subAccountManagement"},[s("v-container",{attrs:{fluid:"","grid-list-xl":""}},[t.loadingStatus?s("div",{staticClass:"text-xs-center"},[s("MaterialLoadingPage")],1):s("div",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"mt-0",attrs:{md6:"",tag:"h3"}},[t._v("\n          "+t._s(t.$ln("子帳號管理"))+"\n        ")]),s("v-flex",{staticClass:"text-xs-right",attrs:{md6:""}},[s("div",{staticClass:"d-inline-block mr-3",staticStyle:{width:"150px"}},[s("v-select",{attrs:{items:t.selectRowsPerPageItems.options,disabled:t.loadFilterMenuStatus,label:t.$ln("每頁顯示")},model:{value:t.selectRowsPerPageItems.selected,callback:function(e){t.$set(t.selectRowsPerPageItems,"selected",e)},expression:"selectRowsPerPageItems.selected"}})],1),s("AppendSubAccount",{on:{status:t.appendStatus}})],1)],1),s("div",[parseInt(t.pagination.totalItems)>25&&parseInt(t.selectRowsPerPageItems.selected)>10&&t.pages>0?s("div",{staticClass:"text-xs-center pt-2"},[s("v-pagination",{attrs:{length:t.pages,"total-visible":t.pagination.totalVisible,color:"deep-orange darken-1"},on:{input:t.loadNextPage},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],1):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.pagination.totalItems,expression:"pagination.totalItems"}],staticClass:"pb-1"},[s("p",{staticClass:"category d-inline-flex"},[t._v(t._s(t.$ln("共 %s 個子帳號",t.pagination.totalItems)))])]),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.subAccountList.headers,items:t.subAccountList.contents,"no-data-text":t.subAccountList.showNoData,pagination:t.pagination,"hide-actions":""},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headerCell",fn:function(e){var a=e.header;return[s("span",{domProps:{textContent:t._s(t.$ln(a.text))}})]}},{key:"items",fn:function(e){var a=e.item;return[a.id?s("td",{staticClass:"text-xs-center",attrs:{width:"1%"}},[t._v(t._s(a.id))]):t._e(),s("td",{staticClass:"text-xs-center"},[s("router-link",{attrs:{to:{path:"/manage/account-management/sub-account-management/edit",query:{item:a,page:t.pagination.currentPage,rowsPerPage:t.selectRowsPerPageItems.selected}}}},[t._v(t._s(a.l_no))])],1),s("td",{staticClass:"text-xs-center"},[t._v(t._s(a.l_name))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(a.status))]),s("td",{staticClass:"text-xs-center"},[t._v(t._s(a.is_close))]),s("td",{staticClass:"text-xs-center minWidth20"},[t._v(t._s(a.remark))])]}}])}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.pagination.totalItems,expression:"pagination.totalItems"}],staticClass:"pt-2"},[s("p",{staticClass:"category d-inline-flex"},[t._v(t._s(t.$ln("共 %s 個子帳號",t.pagination.totalItems)))])]),t.pages>0?s("div",{staticClass:"text-xs-center pt-2"},[s("v-pagination",{attrs:{length:t.pages,"total-visible":t.pagination.totalVisible,color:"deep-orange darken-1"},on:{input:t.loadNextPage},model:{value:t.pagination.currentPage,callback:function(e){t.$set(t.pagination,"currentPage",e)},expression:"pagination.currentPage"}})],1):t._e()],1)],1)])],1)}),[],!1,null,null,null);c.options.__file="index.vue";e["default"]=c.exports},fff4:function(t,e,s){"use strict";s.r(e);var a=s("2f62"),n=s("ed08");function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter((function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})))),a.forEach((function(e){r(t,e,s[e])}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var i={name:"AppendSubAccount",data:function(){return{Items:{dialogOpen:!1,valid:!1,account:{selected:"",options:[]},nameItems:{name:"",nameRules:[]},passwordItems:{password:"",passwordIsVisible:!1,passwordConfirmation:"",passwordConfirmationIsVisible:!1,passwordRules:[]},whetherAllowLogin:{selected:0,options:[]},openSuperLottery:{show:!0,selected:1,options:[]},identity:{selected:"查詢員",options:[{text:"查詢員",value:"查詢員"}]},remark:{contents:""}}}},computed:o({},Object(a.c)({getGenerateHleadAccountState:"account-management/getGenerateHleadAccountState",getDashboardInfoState:"account-management/getDashboardInfoState"})),watch:{"$store.state.lang":function(t){this.initLanguage()},getGenerateHleadAccountState:function(t){this.Items.account.selected=t.result.account[0],this.Items.account.options=t.result.account},"Items.dialogOpen":function(t){t||(this.clearField(),this.$refs.form.resetValidation())}},mounted:function(){this.initLanguage(),this.loadGenerateAccount(),this.updateDashboardInfo()},methods:o({},Object(a.b)({postSubAccount:"api/postSubAccount",getGenerateAccount:"api/getGenerateAccount"}),{add:function(){var t=this,e={l_no:this.Items.account.selected,l_name:this.Items.nameItems.name,l_pwd:this.Items.passwordItems.password,l_pwd_confirmation:this.Items.passwordItems.passwordConfirmation,is_close:this.Items.whetherAllowLogin.selected,remark:this.Items.remark.contents};this.Items.openSuperLottery.show&&(e.open_super=this.Items.openSuperLottery.selected);try{this.postSubAccount(e).then((function(e){"[object Error]"===Object.prototype.toString.call(e)&&e.hasOwnProperty("response")&&200!==e.response.status?e.response.data.hasOwnProperty("errors")?n.a.errorMsgHandler(e.response.data.errors):t.$toastr.error("".concat(t.$ln("新增失敗"))):200===e.status&&(t.$toastr.success("".concat(t.$ln("新增成功")),"",{timeOut:2e3,closeButton:!1}),t.clearField(),t.$emit("status",!0),t.loadGenerateAccount(),t.Items.dialogOpen=!1)}))["catch"]((function(e){t.$toastr.error("".concat(t.$ln("新增失敗")))}))}catch(s){this.$toastr.error("".concat(this.$ln("站台資料錯誤，請聯絡客服")))}},loadGenerateAccount:function(){var t=this;try{this.getGenerateAccount({type:"hlead"}).then((function(e){if("[object Error]"===Object.prototype.toString.call(e)&&e.hasOwnProperty("response")&&200!==e.response.status){if(401===e.response.status)return;e.response.data.hasOwnProperty("errors")?n.a.errorMsgHandler(e.response.data.errors):t.$toastr.error("".concat(t.$ln("取得可新增子帳號失敗")))}else 200===e.status&&(e.data.hasOwnProperty("errors")||e.data.hasOwnProperty("result"))}))["catch"]((function(t){}))}catch(e){this.$toastr.error("".concat(this.$ln("站台資料錯誤，請聯絡客服")))}},clearField:function(){this.Items.nameItems.name="",this.Items.passwordItems.password="",this.Items.passwordItems.passwordConfirmation="",this.Items.whetherAllowLogin.selected=0,this.Items.openSuperLottery.selected=0,this.Items.identity.selected="查詢員",this.Items.remark.contents=""},updateDashboardInfo:function(){var t=JSON.parse(sessionStorage.getItem("super.manage.dashboard.info"));if(t&&t.hasOwnProperty("noOpenGame"))for(var e in t.noOpenGame)this.closeGameType(t.noOpenGame[e])},closeGameType:function(t){switch(t){case"s17":this.Items.openSuperLottery.show=!1}},initLanguage:function(){var t=this;this.Items.nameItems.nameRules=[function(e){return!!e||t.$ln("不能為空格")},function(e){return/^[\u4e00-\u9fa5_A-Za-z0-9\(\)\_\-]+$/.test(e)||""===e||t.$ln("不能為特殊符號或空格，除了「括號()」、「底線_」和「-」")},function(e){return e.length<=20||t.$ln("不能超過 20 個字元")}],this.Items.passwordItems.passwordRules=[function(e){return!!e||t.$ln("不能為空格")},function(e){return 0===e.length||e.length>=4||t.$ln("長度需為 4 位以上")},function(e){return/^[A-Za-z0-9]+$/.test(e)||""===e||t.$ln("需為英文或數字")},function(e){return!/^[0-9]+$/.test(e)||""===e||t.$ln("需為英文加數字組合")},function(e){return!/^[A-Za-z]+$/.test(e)||""===e||t.$ln("需為英文加數字組合")}],this.Items.whetherAllowLogin.options=[{text:this.$ln("是"),value:0},{text:this.$ln("否"),value:1}],this.Items.openSuperLottery.options=[{text:this.$ln("是"),value:0},{text:this.$ln("否"),value:1}]}})},l=(s("ae7b"),s("2877")),c=Object(l.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.Items.dialogOpen,callback:function(e){t.$set(t.Items,"dialogOpen",e)},expression:"Items.dialogOpen"}},[s("v-btn",{attrs:{slot:"activator",small:"",color:"deep-orange darken-1"},slot:"activator"},[t._v(t._s(t.$ln("新增子帳號")))]),s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.$ln("新增子帳號")))])]),s("v-card-text",[s("v-container",{attrs:{"grid-list-md":""}},[s("v-form",{ref:"form",model:{value:t.Items.valid,callback:function(e){t.$set(t.Items,"valid",e)},expression:"Items.valid"}},[s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-select",{attrs:{items:t.Items.account.options,"no-data-text":t.$ln("無可用帳號"),label:t.$ln("帳號"),required:""},model:{value:t.Items.account.selected,callback:function(e){t.$set(t.Items.account,"selected",e)},expression:"Items.account.selected"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{rules:t.Items.nameItems.nameRules,label:t.$ln("名稱")},model:{value:t.Items.nameItems.name,callback:function(e){t.$set(t.Items.nameItems,"name",e)},expression:"Items.nameItems.name"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{rules:t.Items.passwordItems.passwordRules,"append-icon":t.Items.passwordItems.passwordIsVisible?"mdi-eye":"mdi-eye-off",type:t.Items.passwordItems.passwordIsVisible?"text":"password",label:t.$ln("密碼"),hint:t.$ln("長度需為 4 位以上，並且是字母和數字的組合"),required:""},on:{"click:append":function(e){t.Items.passwordItems.passwordIsVisible=!t.Items.passwordItems.passwordIsVisible}},model:{value:t.Items.passwordItems.password,callback:function(e){t.$set(t.Items.passwordItems,"password",e)},expression:"Items.passwordItems.password"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{rules:t.Items.passwordItems.passwordRules,"append-icon":t.Items.passwordItems.passwordConfirmationIsVisible?"mdi-eye":"mdi-eye-off",type:t.Items.passwordItems.passwordConfirmationIsVisible?"text":"password",label:t.$ln("確認密碼"),hint:t.$ln("長度需為 4 位以上，並且是字母和數字的組合"),required:""},on:{"click:append":function(e){t.Items.passwordItems.passwordConfirmationIsVisible=!t.Items.passwordItems.passwordConfirmationIsVisible}},model:{value:t.Items.passwordItems.passwordConfirmation,callback:function(e){t.$set(t.Items.passwordItems,"passwordConfirmation",e)},expression:"Items.passwordItems.passwordConfirmation"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("div",{staticClass:"v-input__slot"},[s("div",{staticClass:"v-text-field__slot"},[s("label",{staticClass:"v-label theme--light",staticStyle:{left:"0px",right:"auto",position:"absolute"},attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$ln("是否允許登入")))]),s("v-radio-group",{attrs:{row:""},model:{value:t.Items.whetherAllowLogin.selected,callback:function(e){t.$set(t.Items.whetherAllowLogin,"selected",e)},expression:"Items.whetherAllowLogin.selected"}},t._l(t.Items.whetherAllowLogin.options,(function(t,e){return s("v-radio",{key:e,staticClass:"v-input-checkbox",attrs:{label:t.text,value:t.value}})})),1)],1)])]),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.Items.openSuperLottery.show,expression:"Items.openSuperLottery.show"}],attrs:{xs12:"",sm6:"",md4:""}},[s("div",{staticClass:"v-input__slot"},[s("div",{staticClass:"v-text-field__slot"},[s("label",{staticClass:"v-label",staticStyle:{left:"0px",right:"auto",position:"absolute"},attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$ln("開放Super彩球")))]),s("v-radio-group",{attrs:{row:""},model:{value:t.Items.openSuperLottery.selected,callback:function(e){t.$set(t.Items.openSuperLottery,"selected",e)},expression:"Items.openSuperLottery.selected"}},t._l(t.Items.openSuperLottery.options,(function(t,e){return s("v-radio",{key:e,staticClass:"v-input-checkbox",attrs:{label:t.text,value:t.value}})})),1)],1)])]),s("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[s("v-select",{attrs:{items:t.Items.identity.options,label:t.$ln("身份"),required:""},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.item;return[t._v(t._s(t.$ln(s.text)))]}},{key:"item",fn:function(e){var s=e.item;return[t._v(t._s(t.$ln(s.text)))]}}]),model:{value:t.Items.identity.selected,callback:function(e){t.$set(t.Items.identity,"selected",e)},expression:"Items.identity.selected"}})],1),s("v-flex",{attrs:{xs12:""}},[s("div",{staticStyle:{"margin-top":"-30px"}},[s("v-textarea",{attrs:{label:t.$ln("備註")},model:{value:t.Items.remark.contents,callback:function(e){t.$set(t.Items.remark,"contents",e)},expression:"Items.remark.contents"}})],1)])],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.Items.dialogOpen=!1}}},[t._v(t._s(t.$ln("取消")))]),t.Items.valid?s("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){t.add()}}},[t._v(t._s(t.$ln("新增")))]):s("v-btn",{attrs:{disabled:"",color:"blue darken-1",flat:""}},[t._v(t._s(t.$ln("新增")))])],1)],1)],1)}),[],!1,null,null,null);c.options.__file="Append.vue";e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-8c752118.2a66fec9.js.map