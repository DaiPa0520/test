(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1bc9335c"],{"6bde":function(e,t,s){},8578:function(e,t,s){"use strict";var a=s("6bde");s.n(a).a},c4b7:function(e,t,s){"use strict";s.r(t);var a=s("ed08"),r=(s("1553"),{name:"HistoryReportBillsResult",mixins:[s("9c6b").a],data:function(){return{gameHallItems:{selected:"pe,bg,lt,ry",options:[{text:"全部",value:"pe,bg,lt,ry",type:"all",show:!0},{text:"全部(不包含Super彩球)",value:"pe,bg,ry",type:"allNoLottery",show:!0},{text:"體彩",value:"pe",type:"sport",show:!0},{text:"BingoStar",value:"bg",type:"bingo",show:!0},{text:"Super彩球",value:"lt",type:"lottery",show:!0},{text:"皇家",value:"ry",type:"royal",show:!0}]},searchItems:{page:1,type:"his",count_date:"",count_date_end:"",vendor:"",account:"",ball_type:"",game_type:"",play_type:"",lt_game:"",bg_game:"",ry_game:""},reportUrl:"/manage/report/history-report/"}},mounted:function(){this.updateDashboardInfo(),a.a.isObject(this.$route.query.searchItems)?(this.searchInfo=this.$route.query.searchInfo,this.searchItems.count_date=this.$route.query.searchItems.count_date,this.searchItems.count_date_end=this.$route.query.searchItems.count_date_end,this.searchItems.account=this.$route.query.account,this.searchInfo.account=this.$route.query.account,this.searchInfo.nickname=this.$route.query.nickname,this.searchItems.ball_type=this.$route.query.searchItems.ball_type,this.searchItems.game_type=this.$route.query.searchItems.game_type,this.searchItems.play_type=this.$route.query.searchItems.play_type,this.getBackAccount(this.$route.query.account,this.$route.query.level,this.$route.query.searchTree),this.searchItems.search_tree=this.$route.query.searchTree,this.searchVendorItems=this.$route.query.searchVendorItems,this.switchVendor(),this.searchItems.vendor=this.$route.query.searchItems.vendor,this.gameHallItems.selected=this.$route.query.searchItems.vendor,this.$route.query.hasOwnProperty("vendorCode")&&(this.searchItems.vendor=this.$route.query.vendorCode,this.gameHallItems.selected=this.$route.query.vendorCode),this.lazy.vendor=this.searchItems.vendor.split(","),this.composeSearchInfo(this.$route.query.searchItems,this.gameHallItems.selected)):this.toBack()},methods:{loadBillsResult:function(){var e=this;try{this.getBillsResult(this.searchItems).then((function(t){if("[object Error]"===Object.prototype.toString.call(t)&&t.hasOwnProperty("response")&&200!==t.response.status)t.response.data.hasOwnProperty("errors")?a.a.errorMsgHandler(t.response.data.errors):e.$toastr.error(e.$ln("取得會員注單明細失敗")),e.toBack();else if(200===t.status)if(t.data.hasOwnProperty("errors"))e.toBack();else if(t.data.hasOwnProperty("result")){var s=[];e.sortData(t.data.result,s),e.tableList.contents=s,e.tableList.totals.betAmount=e.countTotal(s,"cmount"),e.tableList.totals.effectiveBet=e.countTotal(s,"bmount");var r=["member","agent","generalAgent","shareholder","majorShareholder","director","majorDirector"];for(var o in r){var n=r[o];for(var l in e.tableList.totals[n])e.tableList.totals[n][l]=e.countTotal(s,l)}}else e.toBack();e.loadingStatus=!1}))["catch"]((function(t){e.loadingStatus=!1}))}catch(t){this.$toastr.error(this.$ln("站台資料錯誤，請聯絡客服"))}},updateDashboardInfo:function(){var e=JSON.parse(sessionStorage.getItem("super.manage.dashboard.info"));if(e&&e.hasOwnProperty("noOpenGame")){for(var t in e.noOpenGame)this.closeGameType(e.noOpenGame[t]);-1===e.noOpenGame.indexOf("s16")&&this.openGameType("s16"),-1===e.noOpenGame.indexOf("s17")&&this.openGameType("s17"),-1===e.noOpenGame.indexOf("s18")&&this.openGameType("s18")}},openGameType:function(e){switch(e){case"s16":a.a.isObject(this.$route.query.searchItems)&&(this.searchItems.bg_game=this.$route.query.searchItems.bg_game);break;case"s17":a.a.isObject(this.$route.query.searchItems)&&(this.searchItems.lt_game=this.$route.query.searchItems.lt_game);break;case"s18":a.a.isObject(this.$route.query.searchItems)&&(this.searchItems.ry_game=this.$route.query.searchItems.ry_game)}},closeGameType:function(e){switch(e){case"s16":for(var t in this.gameHallItems.options)"bingo"===this.gameHallItems.options[t].type&&(this.gameHallItems.options[t].show=!1);break;case"s17":for(var s in this.gameHallItems.options)"lottery"===this.gameHallItems.options[s].type&&(this.gameHallItems.options[s].show=!1);break;case"s18":for(var a in this.gameHallItems.options)"royal"===this.gameHallItems.options[a].type&&(this.gameHallItems.options[a].show=!1)}}}}),o=(s("8578"),s("2877")),n=Object(o.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"billsResult reportTable"},[s("v-container",{attrs:{fluid:"","grid-list-xl":""}},[s("CommonBtnBack",{attrs:{Title:e.mapVendorItems[e.gameHallItems.selected]?e.$ln(e.mapVendorItems[e.gameHallItems.selected])+e.$ln("注單明細"):e.$ln("注單明細"),toBack:e.toBackReport}}),s("v-layout",{staticClass:"pl-1",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md9:"",xs12:""}},[e._v("\n        "+e._s(e.$ln("帳務日期"))+"："),s("br"),e._v(e._s(e.searchInfo.showTime)+"\n      ")]),s("CommonCounter",{attrs:{reciprocalItems:e.reciprocalItems,updateTableList:e.updateTableList},on:{"update:reciprocalItems":function(t){e.reciprocalItems=t}}})],1),e.loadingStatus?s("div",{staticClass:"text-xs-center"},[s("MaterialLoadingPage")],1):s("div",[s("ReportSearchInfoCollapse",{attrs:{searchInfo:e.searchInfo},on:{"update:searchInfo":function(t){e.searchInfo=t}}}),s("div",{staticClass:"pl-1"},[s("ReportSearchInfoContent",{attrs:{searchInfo:e.searchInfo},on:{"update:searchInfo":function(t){e.searchInfo=t}}}),s("CommonRadio",{attrs:{TypeItems:e.gameHallItems,Title:e.$ln("館別")},on:{"update:TypeItems":function(t){e.gameHallItems=t}}}),s("CommonCheckbox",{attrs:{TypeItems:e.stratumItems,TypeSelectAll:e.stratumSelectAll,Title:e.$ln("顯示"),TitlePos:"top"},on:{"update:TypeItems":function(t){e.stratumItems=t},"update:TypeSelectAll":function(t){e.stratumSelectAll=t}}}),s("div",[s("label",{staticClass:"body-1 theme--light"},[e._v(e._s(e.$ln("會員帳號")))]),s("span",{staticClass:"pl-2"},[s("span",{staticClass:"badge badge-border"},[e._v("\n              "+e._s(e.searchInfo.account)),e.searchInfo.nickname?s("span",[e._v("("+e._s(e.searchInfo.nickname)+")")]):e._e()])])])],1),s("ReportTableBill",{attrs:{List:e.tableList,SelectItems:e.stratumItems,GameHallSelected:e.gameHallItems.selected,mapVendorItems:e.mapVendorItems,loadding:e.lazy.loading},on:{"update:List":function(t){e.tableList=t},"update:SelectItems":function(t){e.stratumItems=t},"update:GameHallSelected":function(t){e.$set(e.gameHallItems,"selected",t)},"update:loadding":function(t){e.$set(e.lazy,"loading",t)}}})],1)],1)],1)}),[],!1,null,"2986ec26",null);n.options.__file="BillsResult.vue";t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-1bc9335c.d02afaf8.js.map