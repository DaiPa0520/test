{"version":3,"sources":["webpack:///./src/views/manage/account-management/member-search/index.vue?d7e3","webpack:///src/views/manage/account-management/member-search/index.vue","webpack:///./src/views/manage/account-management/member-search/index.vue?2b70","webpack:///./src/views/manage/account-management/member-search/index.vue","webpack:///./src/views/manage/account-management/member-search/index.vue?fbf0"],"names":["name","data","searchAccountItems","valid","account","rules","memberList","show","showNoData","headersItems","headers","contents","loadingStatus","computed","isVietnamStation","watch","this","initLanguage","mounted","methods","search","$toastr","error","$ln","searchMember","getAccountInfo","l_lv","level","searchAccount","getSingleSuperAccount","params","toEdit","path","$router","push","query","direct_query","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","model","value","callback","$$v","$set","expression","on","$event","_e","scopedSlots","_u","key","fn","ref","header","domProps","text","item","up_no5","up_no6","up_no4","up_no3","up_no2","up_no1","member","currency","L_status","time_login","ip","options","__file"],"mappings":"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","file":"js/chunk-51378f72.9a687f17.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"searchMember\"},[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{staticClass:\"mt-0\",attrs:{\"md6\":\"\",\"tag\":\"h3\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$ln('搜尋會員'))+\"\\n      \")])],1),_c('v-flex',{attrs:{\"md4\":\"\"}},[_c('v-form',{model:{value:(_vm.searchAccountItems.valid),callback:function ($$v) {_vm.$set(_vm.searchAccountItems, \"valid\", $$v)},expression:\"searchAccountItems.valid\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs8\":\"\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.searchAccountItems.rules,\"label\":_vm.$ln('快速查詢帳號'),\"required\":\"\"},model:{value:(_vm.searchAccountItems.account),callback:function ($$v) {_vm.$set(_vm.searchAccountItems, \"account\", $$v)},expression:\"searchAccountItems.account\"}})],1),_c('v-flex',{staticClass:\"pt-4\",attrs:{\"xs4\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"deep-orange darken-1\",\"disabled\":!_vm.searchAccountItems.valid},on:{\"click\":function($event){_vm.search()}}},[_vm._v(_vm._s(_vm.$ln('查找')))])],1)],1)],1)],1),(_vm.loadingStatus)?_c('div',{staticClass:\"text-xs-center\"},[_c('MaterialLoadingPage',{attrs:{\"show-text\":'搜尋中'}})],1):_c('div',{staticClass:\"pt-1\"},[(_vm.memberList.show)?_c('div',{staticClass:\"body-2 font-weight-light\"},[_vm._v(_vm._s(_vm.$ln('查詢結果'))+\"：\")]):_vm._e(),(_vm.memberList.show)?_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.memberList.headers,\"items\":_vm.memberList.contents,\"no-data-text\":_vm.memberList.showNoData,\"hide-actions\":\"\"},scopedSlots:_vm._u([{key:\"headerCell\",fn:function(ref){\nvar header = ref.header;\nreturn [_c('span',{domProps:{\"textContent\":_vm._s(_vm.$ln(header.text))}})]}},{key:\"items\",fn:function(ref){\nvar item = ref.item;\nreturn [(item.up_no5)?_c('td',{staticClass:\"text-xs-center red--text darken-4\"},[_c('a',{staticClass:\"red--text\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.getAccountInfo(6, item.up_no5 , item.up_no6)}}},[_vm._v(_vm._s(item.up_no5))])]):_vm._e(),(item.up_no4)?_c('td',{staticClass:\"text-xs-center red--text darken-4\"},[_c('a',{staticClass:\"red--text\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.getAccountInfo(5, item.up_no4 , item.up_no5)}}},[_vm._v(_vm._s(item.up_no4))])]):_vm._e(),(item.up_no3)?_c('td',{staticClass:\"text-xs-center red--text darken-4\"},[_c('a',{staticClass:\"red--text\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.getAccountInfo(4, item.up_no3 , item.up_no4)}}},[_vm._v(_vm._s(item.up_no3))])]):_vm._e(),(item.up_no2)?_c('td',{staticClass:\"text-xs-center red--text darken-4\"},[_c('a',{staticClass:\"red--text\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.getAccountInfo(3, item.up_no2 , item.up_no3)}}},[_vm._v(_vm._s(item.up_no2))])]):_vm._e(),(item.up_no1)?_c('td',{staticClass:\"text-xs-center red--text darken-4\"},[_c('a',{staticClass:\"red--text\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.getAccountInfo(2, item.up_no1 , item.up_no2 )}}},[_vm._v(_vm._s(item.up_no1))])]):_vm._e(),(item.member)?_c('td',{staticClass:\"text-xs-center red--text darken-4\"},[_c('a',{staticClass:\"red--text\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.getAccountInfo(1, item.member , item.up_no1 )}}},[_vm._v(_vm._s(item.member))])]):_vm._e(),(!_vm.isVietnamStation)?_c('td',{staticClass:\"text-xs-center\"},[_vm._v(\"\\n            \"+_vm._s(item.currency)+\"\\n          \")]):_vm._e(),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(\"\\n            \"+_vm._s(item.L_status)+\"\\n          \")]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(\"\\n            \"+_vm._s(item.time_login)+\"\\n          \")]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(\"\\n            \"+_vm._s(item.ip)+\"\\n          \")])]}}])}):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"searchMember\">\r\n    <v-container\r\n      fluid\r\n      grid-list-xl>\r\n      <v-layout\r\n        row\r\n        wrap>\r\n        <v-flex\r\n          md6\r\n          tag=\"h3\"\r\n          class=\"mt-0\">\r\n          {{ $ln('搜尋會員') }}\r\n        </v-flex>\r\n      </v-layout>\r\n        <v-flex md4>\r\n          <v-form v-model=\"searchAccountItems.valid\">\r\n            <v-layout wrap>\r\n              <v-flex xs8>\r\n                <v-text-field\r\n                  v-model=\"searchAccountItems.account\"\r\n                  :rules=\"searchAccountItems.rules\"\r\n                  :label=\"$ln('快速查詢帳號')\"\r\n                  required\r\n                />\r\n              </v-flex>\r\n\r\n              <v-flex\r\n                xs4\r\n                class=\"pt-4\">\r\n                <v-btn\r\n                  small\r\n                  color=\"deep-orange darken-1\"\r\n                  :disabled=\"!searchAccountItems.valid\"\r\n                  @click=\"search()\">{{ $ln('查找') }}</v-btn>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-form>\r\n        </v-flex>\r\n\r\n      <div\r\n        v-if=\"loadingStatus\"\r\n        class=\"text-xs-center\">\r\n        <MaterialLoadingPage :show-text=\"'搜尋中'\"/>\r\n      </div>\r\n      <div\r\n        v-else\r\n        class=\"pt-1\">\r\n        <div\r\n          v-if=\"memberList.show\"\r\n          class=\"body-2 font-weight-light\">{{ $ln('查詢結果') }}：</div>\r\n\r\n        <v-data-table\r\n          v-if=\"memberList.show\"\r\n          :headers=\"memberList.headers\"\r\n          :items=\"memberList.contents\"\r\n          :no-data-text=\"memberList.showNoData\"\r\n          hide-actions\r\n          class=\"elevation-1\">\r\n          <template\r\n            slot=\"headerCell\"\r\n            slot-scope=\"{ header }\">\r\n            <span v-text=\"$ln(header.text)\"/>\r\n          </template>\r\n          <template\r\n            slot=\"items\"\r\n            slot-scope=\"{ item }\">\r\n            <!-- 總監 -->\r\n            <td\r\n              v-if=\"item.up_no5\"\r\n              class=\"text-xs-center red--text darken-4\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"red--text\"\r\n                @click=\"getAccountInfo(6, item.up_no5 , item.up_no6)\">{{ item.up_no5 }}</a>\r\n            </td>\r\n            <!-- 大股東 -->\r\n            <td\r\n              v-if=\"item.up_no4\"\r\n              class=\"text-xs-center red--text darken-4\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"red--text\"\r\n                @click=\"getAccountInfo(5, item.up_no4 , item.up_no5)\">{{ item.up_no4 }}</a>\r\n            </td>\r\n            <!-- 股東 -->\r\n            <td\r\n              v-if=\"item.up_no3\"\r\n              class=\"text-xs-center red--text darken-4\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"red--text\"\r\n                @click=\"getAccountInfo(4, item.up_no3 , item.up_no4)\">{{ item.up_no3 }}</a>\r\n            </td>\r\n            <!-- 總代理 -->\r\n            <td\r\n              v-if=\"item.up_no2\"\r\n              class=\"text-xs-center red--text darken-4\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"red--text\"\r\n                @click=\"getAccountInfo(3, item.up_no2 , item.up_no3)\">{{ item.up_no2 }}</a>\r\n            </td>\r\n            <!-- 代理 -->\r\n            <td\r\n              v-if=\"item.up_no1\"\r\n              class=\"text-xs-center red--text darken-4\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"red--text\"\r\n                @click=\"getAccountInfo(2, item.up_no1 , item.up_no2 ) \">{{ item.up_no1 }}</a>\r\n            </td>\r\n            <!-- 會員 -->\r\n            <td\r\n              v-if=\"item.member\"\r\n              class=\"text-xs-center red--text darken-4\">\r\n              <a\r\n                href=\"#\"\r\n                class=\"red--text\"\r\n                @click=\"getAccountInfo(1, item.member , item.up_no1 )\">{{ item.member }}</a>\r\n            </td>\r\n            <!-- 幣別 --> <!-- @20191204 越南站22站不顯示幣別@ -->\r\n            <td class=\"text-xs-center\" v-if=\"!isVietnamStation\">\r\n              {{ item.currency }}\r\n            </td>\r\n            <!-- 允許登入？ -->\r\n            <td class=\"text-xs-center\">\r\n              {{ item.L_status }}\r\n            </td>\r\n            <!-- 登入時間 -->\r\n            <td class=\"text-xs-center\">\r\n              {{ item.time_login }}\r\n            </td>\r\n            <!-- 登入IP -->\r\n            <td class=\"text-xs-center\">\r\n              {{ item.ip }}\r\n            </td>\r\n          </template>\r\n        </v-data-table>\r\n      </div>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport { common } from '@/utils'\r\n\r\nexport default {\r\n  name: 'SearchMember',\r\n  data () {\r\n    return {\r\n      // 快速查詢帳號\r\n      searchAccountItems: {\r\n        valid: false,\r\n        account: '',\r\n        rules: [] // *initLanguage*\r\n        // '需為英文或數字，不能為空格'\r\n      },\r\n      // 搜尋資料列表\r\n      memberList: {\r\n        show: false,\r\n        // 無資料顯示\r\n        showNoData: '', // *initLanguage*\r\n        // '沒有您要搜尋的帳號'\r\n        // 全部 headers 欄位\r\n        headersItems: [ // param: API 參數 / mustStatus: 是否必顯示欄位\r\n          { text: '總監', align: 'center', sortable: false, param: 'up_no5', mustStatus: false },\r\n          { text: '大股東', align: 'center', sortable: false, param: 'up_no4', mustStatus: false },\r\n          { text: '股東', align: 'center', sortable: false, param: 'up_no3', mustStatus: false },\r\n          { text: '總代理', align: 'center', sortable: false, param: 'up_no2', mustStatus: false },\r\n          { text: '代理商', align: 'center', sortable: false, param: 'up_no1', mustStatus: false },\r\n          { text: '會員', align: 'center', sortable: false, param: 'member', mustStatus: false },\r\n          { text: '幣別', align: 'center', sortable: false, param: 'currency', mustStatus: true },\r\n          { text: '允許登入？', align: 'center', sortable: false, param: 'L_status', mustStatus: true },\r\n          { text: '登入時間', align: 'center', sortable: false, param: 'time_login', mustStatus: true },\r\n          { text: '登入IP', align: 'center', sortable: false, param: 'ip', mustStatus: true }\r\n        ],\r\n        headers: [],\r\n        contents: []\r\n      },\r\n      // 頁面載入狀態(搜尋)\r\n      loadingStatus: false\r\n    }\r\n  },\r\n  computed: {\r\n    // 是否為越南站(22站)\r\n    isVietnamStation () {\r\n      return common.isVietnamStation()\r\n    }\r\n  },\r\n  watch: {\r\n    '$store.state.lang' (value) {\r\n      this.initLanguage()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.initLanguage()\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      searchMember: 'api/searchMember',\r\n      getSingleSuperAccount: 'api/getSingleSuperAccount'\r\n    }),\r\n    search () {\r\n      if (!this.searchAccountItems.account) this.$toastr.error(this.$ln(`您查詢的帳號為空值`))\r\n\r\n      // 載入狀態(開始)\r\n      this.loadingStatus = true\r\n      try {\r\n        this.searchMember({ account: this.searchAccountItems.account })\r\n          .then(res => {\r\n            if (Object.prototype.toString.call(res) === '[object Error]' &&\r\n                res.hasOwnProperty('response') &&\r\n                res.response.status !== 200) {\r\n              // 錯誤訊息\r\n              if (res.response.data.hasOwnProperty('errors')) common.errorMsgHandler(res.response.data.errors)\r\n              else this.$toastr.error(`${this.$ln('搜尋會員失敗')}`)\r\n              console.error(res.response)\r\n            } else if (res.status === 200) { // success\r\n              // http 200 回應錯誤訊息\r\n              if (res.data.hasOwnProperty('errors')) {\r\n                console.error('response 200 error: ', res.data)\r\n              } else if (res.data.hasOwnProperty('result')) {\r\n                this.memberList.show = true\r\n\r\n                let newHeaders = []\r\n                for (let i in this.memberList.headersItems) {\r\n                  // 回傳有資料，且資料有該參數，且有值，則顯示 headers 欄位\r\n                  if ((res.data.result.list.length > 0 &&\r\n                      res.data.result.list[0].hasOwnProperty(this.memberList.headersItems[i].param) &&\r\n                      res.data.result.list[0][this.memberList.headersItems[i].param]) ||\r\n                      this.memberList.headersItems[i].mustStatus) {\r\n                    // @20191204 越南站22站不顯示幣別@\r\n                    if (!(this.memberList.headersItems[i].param === 'currency' && this.isVietnamStation)) newHeaders.push(this.memberList.headersItems[i])\r\n                  }\r\n                }\r\n                this.memberList.headers = newHeaders\r\n                this.memberList.contents = res.data.result.list\r\n              }\r\n            }\r\n            // 載入狀態(結束)\r\n            this.loadingStatus = false\r\n          })\r\n          .catch(err => {\r\n            console.error(err)\r\n            // 載入狀態(結束)\r\n            this.loadingStatus = false\r\n          })\r\n      } catch (error) {\r\n        this.$toastr.error(`${this.$ln('站台資料錯誤，請聯絡客服')}`)\r\n        console.error(error)\r\n      }\r\n    },\r\n    /**\r\n     * 取得管端帳號資料\r\n     * @params level   層級代號\r\n     * @params account 帳號\r\n     **/\r\n    getAccountInfo (level, account , up_account) {\r\n      let params = {\r\n        l_lv: level, // 會員等級: 總監\r\n        searchAccount: account // 帳號\r\n      }\r\n      try {\r\n        this.getSingleSuperAccount(params)\r\n          .then(res => {\r\n            if (Object.prototype.toString.call(res) === '[object Error]' &&\r\n                res.hasOwnProperty('response') &&\r\n                res.response.status !== 200) {\r\n              if (res.response.status === 401) return\r\n              // 錯誤訊息\r\n              if (res.response.data.hasOwnProperty('errors')) common.errorMsgHandler(res.response.data.errors)\r\n              else this.$toastr.error(`${this.$ln('連結至編輯頁失敗')}`)\r\n              console.error(res.response)\r\n            } else if (res.status === 200) { // success\r\n              // http 200 回應錯誤訊息\r\n              if (res.data.hasOwnProperty('errors')) {\r\n                console.error('response 200 error: ', res.data)\r\n              } else if (res.data.hasOwnProperty('result')) {\r\n                // console.log(`連結至編輯頁成功`, res.data.result.list[0])\r\n                // 連結至該層級帳號編輯頁\r\n                this.toEdit(level, res.data.result.list[0],up_account)\r\n              }\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.error(err)\r\n          })\r\n      } catch (error) {\r\n        this.$toastr.error(`${this.$ln('站台資料錯誤，請聯絡客服')}`)\r\n        console.error(error)\r\n      }\r\n    },\r\n    /**\r\n     * 連結至編輯頁\r\n     * @params level   層級代號\r\n     * @params item    帳號資料\r\n     **/\r\n    toEdit (level, item , up_account) {\r\n      let path = '' ;\r\n      let direct = ( Number(level)+1 ==  sessionStorage.getItem('super.manage.level') )? 'directList' : '' ;\r\n      let direct_query = (direct === 'directList')? {} : {  upAccount:up_account } ;\r\n      switch (level) {\r\n        case 6: // 總監\r\n          path = 'director-management' ;\r\n          break\r\n        case 5: // 大股東\r\n          path = 'major-shareholder-management' ;\r\n          break\r\n        case 4: // 股東\r\n          path = 'shareholder-management' ;\r\n          break\r\n        case 3: // 總代理\r\n          path = 'general-agent-management' ;\r\n          break\r\n        case 2: // 代理\r\n          path = 'agent-management' ;\r\n          break\r\n        case 1: // 會員\r\n          path = 'member-management' ;\r\n          break\r\n      }\r\n      this.$router.push({\r\n        path: `/manage/account-management/${path}/${direct}`,\r\n        query: direct_query\r\n      })\r\n      this.$router.push({\r\n        path: `/manage/account-management/${path}/edit`,\r\n        query: { account: item.l_no ,searchStatus: true }\r\n      })\r\n    },\r\n    // 初始語系\r\n    initLanguage () {\r\n      // 快速查詢帳號\r\n      this.searchAccountItems.rules = [\r\n        v => ((/^[A-Za-z0-9]+$/.test(v)) || v === '') || this.$ln('需為英文或數字，不能為空格')\r\n      ]\r\n\r\n      // 無資料顯示\r\n      this.memberList.showNoData = this.$ln('沒有您要搜尋的帳號')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5ec6ce13&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}