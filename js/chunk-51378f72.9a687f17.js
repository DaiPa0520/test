(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-51378f72"],{"073b":function(t,e,a){},"13ae":function(t,e,a){"use strict";a.r(e);var s=a("2f62"),r=a("ed08");function n(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={name:"SearchMember",data:function(){return{searchAccountItems:{valid:!1,account:"",rules:[]},memberList:{show:!1,showNoData:"",headersItems:[{text:"總監",align:"center",sortable:!1,param:"up_no5",mustStatus:!1},{text:"大股東",align:"center",sortable:!1,param:"up_no4",mustStatus:!1},{text:"股東",align:"center",sortable:!1,param:"up_no3",mustStatus:!1},{text:"總代理",align:"center",sortable:!1,param:"up_no2",mustStatus:!1},{text:"代理商",align:"center",sortable:!1,param:"up_no1",mustStatus:!1},{text:"會員",align:"center",sortable:!1,param:"member",mustStatus:!1},{text:"幣別",align:"center",sortable:!1,param:"currency",mustStatus:!0},{text:"允許登入？",align:"center",sortable:!1,param:"L_status",mustStatus:!0},{text:"登入時間",align:"center",sortable:!1,param:"time_login",mustStatus:!0},{text:"登入IP",align:"center",sortable:!1,param:"ip",mustStatus:!0}],headers:[],contents:[]},loadingStatus:!1}},computed:{isVietnamStation:function(){return r.a.isVietnamStation()}},watch:{"$store.state.lang":function(t){this.initLanguage()}},mounted:function(){this.initLanguage()},methods:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},s=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),s.forEach((function(e){n(t,e,a[e])}))}return t}({},Object(s.b)({searchMember:"api/searchMember",getSingleSuperAccount:"api/getSingleSuperAccount"}),{search:function(){var t=this;this.searchAccountItems.account||this.$toastr.error(this.$ln("您查詢的帳號為空值")),this.loadingStatus=!0;try{this.searchMember({account:this.searchAccountItems.account}).then((function(e){if("[object Error]"===Object.prototype.toString.call(e)&&e.hasOwnProperty("response")&&200!==e.response.status)e.response.data.hasOwnProperty("errors")?r.a.errorMsgHandler(e.response.data.errors):t.$toastr.error("".concat(t.$ln("搜尋會員失敗")));else if(200===e.status)if(e.data.hasOwnProperty("errors"));else if(e.data.hasOwnProperty("result")){t.memberList.show=!0;var a=[];for(var s in t.memberList.headersItems)(e.data.result.list.length>0&&e.data.result.list[0].hasOwnProperty(t.memberList.headersItems[s].param)&&e.data.result.list[0][t.memberList.headersItems[s].param]||t.memberList.headersItems[s].mustStatus)&&("currency"===t.memberList.headersItems[s].param&&t.isVietnamStation||a.push(t.memberList.headersItems[s]));t.memberList.headers=a,t.memberList.contents=e.data.result.list}t.loadingStatus=!1}))["catch"]((function(e){t.loadingStatus=!1}))}catch(e){this.$toastr.error("".concat(this.$ln("站台資料錯誤，請聯絡客服")))}},getAccountInfo:function(t,e,a){var s=this,n={l_lv:t,searchAccount:e};try{this.getSingleSuperAccount(n).then((function(e){if("[object Error]"===Object.prototype.toString.call(e)&&e.hasOwnProperty("response")&&200!==e.response.status){if(401===e.response.status)return;e.response.data.hasOwnProperty("errors")?r.a.errorMsgHandler(e.response.data.errors):s.$toastr.error("".concat(s.$ln("連結至編輯頁失敗")))}else 200===e.status&&(e.data.hasOwnProperty("errors")||e.data.hasOwnProperty("result")&&s.toEdit(t,e.data.result.list[0],a))}))["catch"]((function(t){}))}catch(c){this.$toastr.error("".concat(this.$ln("站台資料錯誤，請聯絡客服")))}},toEdit:function(t,e,a){var s="",r=Number(t)+1==sessionStorage.getItem("super.manage.level")?"directList":"",n="directList"===r?{}:{upAccount:a};switch(t){case 6:s="director-management";break;case 5:s="major-shareholder-management";break;case 4:s="shareholder-management";break;case 3:s="general-agent-management";break;case 2:s="agent-management";break;case 1:s="member-management"}this.$router.push({path:"/manage/account-management/".concat(s,"/").concat(r),query:n}),this.$router.push({path:"/manage/account-management/".concat(s,"/edit"),query:{account:e.l_no,searchStatus:!0}})},initLanguage:function(){var t=this;this.searchAccountItems.rules=[function(e){return/^[A-Za-z0-9]+$/.test(e)||""===e||t.$ln("需為英文或數字，不能為空格")}],this.memberList.showNoData=this.$ln("沒有您要搜尋的帳號")}})},o=(a("fa90"),a("2877")),i=Object(o.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"searchMember"},[a("v-container",{attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mt-0",attrs:{md6:"",tag:"h3"}},[t._v("\n        "+t._s(t.$ln("搜尋會員"))+"\n      ")])],1),a("v-flex",{attrs:{md4:""}},[a("v-form",{model:{value:t.searchAccountItems.valid,callback:function(e){t.$set(t.searchAccountItems,"valid",e)},expression:"searchAccountItems.valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{rules:t.searchAccountItems.rules,label:t.$ln("快速查詢帳號"),required:""},model:{value:t.searchAccountItems.account,callback:function(e){t.$set(t.searchAccountItems,"account",e)},expression:"searchAccountItems.account"}})],1),a("v-flex",{staticClass:"pt-4",attrs:{xs4:""}},[a("v-btn",{attrs:{small:"",color:"deep-orange darken-1",disabled:!t.searchAccountItems.valid},on:{click:function(e){t.search()}}},[t._v(t._s(t.$ln("查找")))])],1)],1)],1)],1),t.loadingStatus?a("div",{staticClass:"text-xs-center"},[a("MaterialLoadingPage",{attrs:{"show-text":"搜尋中"}})],1):a("div",{staticClass:"pt-1"},[t.memberList.show?a("div",{staticClass:"body-2 font-weight-light"},[t._v(t._s(t.$ln("查詢結果"))+"：")]):t._e(),t.memberList.show?a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.memberList.headers,items:t.memberList.contents,"no-data-text":t.memberList.showNoData,"hide-actions":""},scopedSlots:t._u([{key:"headerCell",fn:function(e){var s=e.header;return[a("span",{domProps:{textContent:t._s(t.$ln(s.text))}})]}},{key:"items",fn:function(e){var s=e.item;return[s.up_no5?a("td",{staticClass:"text-xs-center red--text darken-4"},[a("a",{staticClass:"red--text",attrs:{href:"#"},on:{click:function(e){t.getAccountInfo(6,s.up_no5,s.up_no6)}}},[t._v(t._s(s.up_no5))])]):t._e(),s.up_no4?a("td",{staticClass:"text-xs-center red--text darken-4"},[a("a",{staticClass:"red--text",attrs:{href:"#"},on:{click:function(e){t.getAccountInfo(5,s.up_no4,s.up_no5)}}},[t._v(t._s(s.up_no4))])]):t._e(),s.up_no3?a("td",{staticClass:"text-xs-center red--text darken-4"},[a("a",{staticClass:"red--text",attrs:{href:"#"},on:{click:function(e){t.getAccountInfo(4,s.up_no3,s.up_no4)}}},[t._v(t._s(s.up_no3))])]):t._e(),s.up_no2?a("td",{staticClass:"text-xs-center red--text darken-4"},[a("a",{staticClass:"red--text",attrs:{href:"#"},on:{click:function(e){t.getAccountInfo(3,s.up_no2,s.up_no3)}}},[t._v(t._s(s.up_no2))])]):t._e(),s.up_no1?a("td",{staticClass:"text-xs-center red--text darken-4"},[a("a",{staticClass:"red--text",attrs:{href:"#"},on:{click:function(e){t.getAccountInfo(2,s.up_no1,s.up_no2)}}},[t._v(t._s(s.up_no1))])]):t._e(),s.member?a("td",{staticClass:"text-xs-center red--text darken-4"},[a("a",{staticClass:"red--text",attrs:{href:"#"},on:{click:function(e){t.getAccountInfo(1,s.member,s.up_no1)}}},[t._v(t._s(s.member))])]):t._e(),t.isVietnamStation?t._e():a("td",{staticClass:"text-xs-center"},[t._v("\n            "+t._s(s.currency)+"\n          ")]),a("td",{staticClass:"text-xs-center"},[t._v("\n            "+t._s(s.L_status)+"\n          ")]),a("td",{staticClass:"text-xs-center"},[t._v("\n            "+t._s(s.time_login)+"\n          ")]),a("td",{staticClass:"text-xs-center"},[t._v("\n            "+t._s(s.ip)+"\n          ")])]}}])}):t._e()],1)],1)],1)}),[],!1,null,null,null);i.options.__file="index.vue";e["default"]=i.exports},fa90:function(t,e,a){"use strict";var s=a("073b");a.n(s).a}}]);
//# sourceMappingURL=chunk-51378f72.9a687f17.js.map