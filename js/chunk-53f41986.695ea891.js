(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-53f41986"],{"46e6":function(t,e,s){"use strict";s.r(e);var n=s("2f62"),o=s("ed08");function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{},n=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(s).filter((function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable})))),n.forEach((function(e){r(t,e,s[e])}))}return t}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var u={name:"EditSubAccount",data:function(){return{error:{show:!1,message:""},subAccountItems:{dialogOpen:!1,valid:!0,id:"",account:"",nameItems:{name:"",nameRules:[]},whetherAllowLogin:{selected:"",options:[]},openSuperLottery:{show:!0,selected:"",options:[]},identity:{selected:"",options:[{text:"查詢員",value:"查詢員"}]},remark:{contents:""}},modifyingStatus:!1}},computed:a({},Object(n.c)({getDashboardInfoState:"account-management/getDashboardInfoState"})),watch:{"$store.state.lang":function(t){this.initLanguage()}},created:function(){o.a.isObject(this.$route.query.item)?(this.$route.query.item.id&&(this.subAccountItems.id=this.$route.query.item.id),this.$route.query.item.l_no&&(this.subAccountItems.account=this.$route.query.item.l_no),this.$route.query.item.l_name&&(this.subAccountItems.nameItems.name=this.$route.query.item.l_name),this.$route.query.item.status&&(this.subAccountItems.identity.selected=this.$route.query.item.status),this.$route.query.item.is_close===this.$ln("允許登入")?this.subAccountItems.whetherAllowLogin.selected=0:this.subAccountItems.whetherAllowLogin.selected=1,0===this.$route.query.item.open_super?this.subAccountItems.openSuperLottery.selected=0:this.subAccountItems.openSuperLottery.selected=1,this.$route.query.item.remark&&(this.subAccountItems.remark.contents=this.$route.query.item.remark)):this.toBack()},mounted:function(){this.$route.query.page&&sessionStorage.setItem("account.list.page",this.$route.query.page),this.$route.query.rowsPerPage&&sessionStorage.setItem("account.list.rowsPerPage",this.$route.query.rowsPerPage),this.initLanguage(),this.updateDashboardInfo()},methods:a({},Object(n.b)({putSubAccount:"api/putSubAccount"}),{toBack:function(){this.$router.push({path:"/manage/account-management/sub-account-management",query:{pageType:"edit"}})},showError:function(t){this.error.show=!0,this.error.message=t},edit:function(){var t=this;this.modifyingStatus=!0;var e={l_no:this.subAccountItems.account,l_name:this.subAccountItems.nameItems.name,is_close:this.subAccountItems.whetherAllowLogin.selected,remark:this.subAccountItems.remark.contents};this.subAccountItems.openSuperLottery.show&&(e.open_super=this.subAccountItems.openSuperLottery.selected);try{this.putSubAccount(e).then((function(e){setTimeout((function(){"[object Error]"===Object.prototype.toString.call(e)&&e.hasOwnProperty("response")&&200!==e.response.status?e.response.data.hasOwnProperty("errors")?o.a.errorMsgHandler(e.response.data.errors):t.showError(t.$ln("修改失敗")):200===e.status&&(t.showError(t.$ln("修改成功")),t.toBack()),t.modifyingStatus=!1}),1e3)}))["catch"]((function(e){setTimeout((function(){t.showError(t.$ln("修改失敗")),t.modifyingStatus=!1}),1e3)}))}catch(s){setTimeout((function(){t.showError(t.$ln("站台資料錯誤，請聯絡客服")),t.modifyingStatus=!1}),1e3)}},updateDashboardInfo:function(){var t=JSON.parse(sessionStorage.getItem("super.manage.dashboard.info"));if(t&&t.hasOwnProperty("noOpenGame"))for(var e in t.noOpenGame)this.closeGameType(t.noOpenGame[e])},closeGameType:function(t){switch(t){case"s17":this.subAccountItems.openSuperLottery.show=!1}},initLanguage:function(){var t=this;this.subAccountItems.nameItems.nameRules=[function(e){return!!e||t.$ln("不能為空格")},function(e){return/^[\u4e00-\u9fa5_A-Za-z0-9\(\)\_\-]+$/.test(e)||""===e||t.$ln("不能為特殊符號或空格，除了「括號()」、「底線_」和「-」")},function(e){return e.length<=20||t.$ln("不能超過 20 個字元")}],this.subAccountItems.whetherAllowLogin.options=[{text:this.$ln("是"),value:0},{text:this.$ln("否"),value:1}],this.subAccountItems.openSuperLottery.options=[{text:this.$ln("是"),value:0},{text:this.$ln("否"),value:1}]}})},c=(s("4dee"),s("2877")),i=Object(c.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{attrs:{fluid:"","grid-list-xl":""}},[s("CommonErrorMsg",{attrs:{show:t.error.show,message:t.error.message},on:{"update:show":function(e){t.$set(t.error,"show",e)},"update:message":function(e){t.$set(t.error,"message",e)}}}),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"mt-0",attrs:{md6:"",tag:"h3"}},[t._v("\n      "+t._s(t.$ln("修改子帳號"))+"\n    ")]),s("v-flex",{staticClass:"text-xs-right",attrs:{md6:""}},[s("v-btn",{attrs:{small:"",color:"amber darken-3"},on:{click:function(e){t.toBack()}}},[s("v-icon",{staticClass:"mr-2"},[t._v("\n          mdi-arrow-left\n        ")]),t._v("\n        "+t._s(t.$ln("返回"))+"\n      ")],1)],1)],1),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs6:""}},[s("AccountManagementEditPasswordIndex",{attrs:{account:t.subAccountItems.account,"update-type":"others","account-type":"hlead"}})],1),s("v-flex",{staticClass:"text-xs-right",attrs:{xs6:""}},[t.subAccountItems.valid&&!t.modifyingStatus?s("v-btn",{attrs:{small:"",color:"deep-orange darken-1"},on:{click:function(e){t.edit()}}},[t._v("\n        "+t._s(t.$ln("確定修改"))+"\n      ")]):!t.subAccountItems.valid||t.modifyingStatus?s("v-btn",{attrs:{loading:t.modifyingStatus,disabled:"",small:"",color:"grey"}},[t._v("\n        "+t._s(t.$ln("確定修改"))+"\n      ")]):t._e()],1)],1),s("material-card",[s("v-form",{model:{value:t.subAccountItems.valid,callback:function(e){t.$set(t.subAccountItems,"valid",e)},expression:"subAccountItems.valid"}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md4:"",xs12:""}},[s("v-text-field",{attrs:{label:t.$ln("帳號"),disabled:""},model:{value:t.subAccountItems.account,callback:function(e){t.$set(t.subAccountItems,"account",e)},expression:"subAccountItems.account"}})],1),s("v-flex",{attrs:{md4:"",xs12:""}},[s("v-text-field",{attrs:{rules:t.subAccountItems.nameItems.nameRules,label:t.$ln("名稱")},model:{value:t.subAccountItems.nameItems.name,callback:function(e){t.$set(t.subAccountItems.nameItems,"name",e)},expression:"subAccountItems.nameItems.name"}})],1),s("v-flex",{attrs:{md4:"",xs12:""}},[s("v-select",{attrs:{items:t.subAccountItems.identity.options,label:t.$ln("身份"),required:""},scopedSlots:t._u([{key:"selection",fn:function(e){var s=e.item;return[t._v(t._s(t.$ln(s.text)))]}},{key:"item",fn:function(e){var s=e.item;return[t._v(t._s(t.$ln(s.text)))]}}]),model:{value:t.subAccountItems.identity.selected,callback:function(e){t.$set(t.subAccountItems.identity,"selected",e)},expression:"subAccountItems.identity.selected"}})],1)],1),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{md4:"",xs6:""}},[s("div",{staticClass:"v-input__slot"},[s("div",{staticClass:"v-text-field__slot"},[s("label",{staticClass:"v-label theme--light",staticStyle:{left:"0px",right:"auto",position:"absolute"},attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$ln("是否允許登入")))]),s("v-radio-group",{attrs:{row:""},model:{value:t.subAccountItems.whetherAllowLogin.selected,callback:function(e){t.$set(t.subAccountItems.whetherAllowLogin,"selected",e)},expression:"subAccountItems.whetherAllowLogin.selected"}},t._l(t.subAccountItems.whetherAllowLogin.options,(function(t,e){return s("v-radio",{key:e,staticClass:"v-input-checkbox",attrs:{label:t.text,value:t.value}})})),1)],1)])]),s("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.subAccountItems.openSuperLottery.show,expression:"subAccountItems.openSuperLottery.show"}],attrs:{md4:"",xs6:""}},[s("div",{staticClass:"v-input__slot"},[s("div",{staticClass:"v-text-field__slot"},[s("label",{staticClass:"v-label",staticStyle:{left:"0px",right:"auto",position:"absolute"},attrs:{"aria-hidden":"true"}},[t._v(t._s(t.$ln("開放Super彩球")))]),s("v-radio-group",{attrs:{row:""},model:{value:t.subAccountItems.openSuperLottery.selected,callback:function(e){t.$set(t.subAccountItems.openSuperLottery,"selected",e)},expression:"subAccountItems.openSuperLottery.selected"}},t._l(t.subAccountItems.openSuperLottery.options,(function(t,e){return s("v-radio",{key:e,staticClass:"v-input-checkbox",attrs:{label:t.text,value:t.value}})})),1)],1)])]),s("v-flex",{attrs:{md4:"",xs12:""}},[s("v-textarea",{attrs:{label:t.$ln("備註")},model:{value:t.subAccountItems.remark.contents,callback:function(e){t.$set(t.subAccountItems.remark,"contents",e)},expression:"subAccountItems.remark.contents"}})],1)],1)],1)],1),s("div",{staticClass:"pt-2 text-xs-right"},[s("v-btn",{attrs:{color:"blue darken-1",flat:"",small:""},on:{click:function(e){t.toBack()}}},[t._v("\n      "+t._s(t.$ln("取消"))+"\n    ")]),t.subAccountItems.valid&&!t.modifyingStatus?s("v-btn",{attrs:{small:"",color:"deep-orange darken-1"},on:{click:function(e){t.edit()}}},[t._v("\n      "+t._s(t.$ln("確定修改"))+"\n    ")]):!t.subAccountItems.valid||t.modifyingStatus?s("v-btn",{attrs:{loading:t.modifyingStatus,disabled:"",small:"",color:"grey"}},[t._v("\n      "+t._s(t.$ln("確定修改"))+"\n    ")]):t._e()],1)],1)}),[],!1,null,null,null);i.options.__file="Edit.vue";e["default"]=i.exports},"4dee":function(t,e,s){"use strict";var n=s("5764");s.n(n).a},5764:function(t,e,s){}}]);
//# sourceMappingURL=chunk-53f41986.695ea891.js.map