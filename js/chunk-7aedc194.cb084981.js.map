{"version":3,"sources":["webpack:///./src/views/manage/report/billing-records/Result.vue?1105","webpack:///src/views/manage/report/billing-records/Result.vue","webpack:///./src/views/manage/report/billing-records/Result.vue?de81","webpack:///./src/views/manage/report/billing-records/Result.vue","webpack:///./src/views/manage/report/billing-records/Result.vue?2b99"],"names":["name","data","tableData1","showNoData","headers","contents","totals","transferCount","balanceTotal","levelItem","1","2","3","4","5","6","7","level","this","$route","query","account","start_time","end_time","loadingStatus","computed","watch","getListState","payload","result","total","i","b_count","parseFloat","j","point","mounted","loadList","methods","search_acc","getList","params","toBack","$router","push","path","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","$ln","_v","_s","scopedSlots","_u","key","fn","ref","header","text","item","l_id","slot","options","__file"],"mappings":"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","file":"js/chunk-7aedc194.cb084981.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"billingRecordsResult\"},[_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-xl\":\"\"}},[_c('CommonBtnBack',{attrs:{\"Title\":_vm.$ln('帳務紀錄搜尋結果'),\"toBack\":_vm.toBack,\"BtnTitle\":'返回'}}),(_vm.loadingStatus)?_c('div',{staticClass:\"text-xs-center\"},[_c('MaterialLoadingPage',{attrs:{\"show-text\":'搜尋中'}})],1):_c('div',[_c('p',{staticClass:\"category font-weight-light\"},[_vm._v(\"*\"+_vm._s(_vm.$ln('查詢類型'))+\"：\"+_vm._s(_vm.$ln(_vm.levelItem[_vm.level]))+\" *\"+_vm._s(_vm.$ln('帳務日期'))+\"：\"+_vm._s(_vm.$ln(\"%s 至 %s\", _vm.start_time, _vm.end_time)))]),_c('div',{staticClass:\"pt-1\"},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.tableData1.headers,\"items\":_vm.tableData1.contents,\"no-data-text\":_vm.$ln(_vm.tableData1.showNoData),\"hide-actions\":\"\"},scopedSlots:_vm._u([{key:\"headerCell\",fn:function(ref){\nvar header = ref.header;\nreturn [_c('span',[_vm._v(_vm._s(header.text ? _vm.$ln(header.text) : header.text))])]}},{key:\"items\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(item.l_id))]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(item.b_count))]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(item.point))]),_c('td',{staticClass:\"text-xs-center\"},[_c('router-link',{attrs:{\"to\":{ path: '/manage/report/billing-records/Details', query: { account: item.l_id, start_time: _vm.start_time, end_time: _vm.end_time, level: _vm.level } }}},[_vm._v(\"\\n                \"+_vm._s(_vm.$ln('明細'))+\"\\n              \")])],1)]}}])},[_c('template',{slot:\"footer\"},[_c('td',{staticClass:\"text-xs-center\",attrs:{\"colspan\":\"1\"}},[_c('strong',[_vm._v(_vm._s(_vm.$ln('合計')))])]),_c('td',{staticClass:\"text-xs-center\",attrs:{\"colspan\":\"1\"}},[_c('strong',[_vm._v(_vm._s(_vm.tableData1.totals.transferCount))])]),_c('td',{staticClass:\"text-xs-center\",attrs:{\"colspan\":\"1\"}},[_c('strong',[_vm._v(_vm._s(_vm.tableData1.totals.balanceTotal))])]),_c('td',[_vm._v(\"\\n               \\n            \")])])],2)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"billingRecordsResult\">\r\n    <v-container\r\n      fluid\r\n      grid-list-xl>\r\n      <CommonBtnBack\r\n      :Title=\"$ln('帳務紀錄搜尋結果')\"\r\n      :toBack=\"toBack\"\r\n      :BtnTitle=\"'返回'\"\r\n      />\r\n\r\n      <div\r\n        v-if=\"loadingStatus\"\r\n        class=\"text-xs-center\">\r\n        <MaterialLoadingPage :show-text=\"'搜尋中'\"/>\r\n      </div>\r\n      <div v-else>\r\n        <p class=\"category font-weight-light\">*{{ $ln('查詢類型') }}：{{ $ln(levelItem[level]) }} *{{ $ln('帳務日期') }}：{{ $ln(`%s 至 %s`, start_time, end_time) }}</p>\r\n\r\n        <div class=\"pt-1\">\r\n          <v-data-table\r\n            :headers=\"tableData1.headers\"\r\n            :items=\"tableData1.contents\"\r\n            :no-data-text=\"$ln(tableData1.showNoData)\"\r\n            hide-actions\r\n            class=\"elevation-1\">\r\n            <template\r\n              slot=\"headerCell\"\r\n              slot-scope=\"{ header }\">\r\n              <span>{{ header.text ? $ln(header.text) : header.text }}</span>\r\n            </template>\r\n            <template\r\n              slot=\"items\"\r\n              slot-scope=\"{ item }\">\r\n              <td class=\"text-xs-center\">{{ item.l_id }}</td>\r\n              <td class=\"text-xs-center\">{{ item.b_count }}</td>\r\n              <td class=\"text-xs-center\">{{ item.point }}</td>\r\n              <td class=\"text-xs-center\">\r\n                <router-link\r\n                  :to=\"{ path: '/manage/report/billing-records/Details', query: { account: item.l_id, start_time: start_time, end_time: end_time, level: level } }\">\r\n                  {{ $ln('明細') }}\r\n                </router-link>\r\n              </td>\r\n            </template>\r\n            <template slot=\"footer\">\r\n              <td\r\n                class=\"text-xs-center\"\r\n                colspan=\"1\">\r\n                <strong>{{ $ln('合計') }}</strong>\r\n              </td>\r\n              <td\r\n                class=\"text-xs-center\"\r\n                colspan=\"1\">\r\n                <strong>{{ tableData1.totals.transferCount }}</strong>\r\n              </td>\r\n              <td\r\n                class=\"text-xs-center\"\r\n                colspan=\"1\">\r\n                <strong>{{ tableData1.totals.balanceTotal }}</strong>\r\n              </td>\r\n              <td>\r\n                &nbsp;\r\n              </td>\r\n            </template>\r\n          </v-data-table>\r\n        </div>\r\n      </div>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nexport default {\r\n  name: 'BillingRecordsResult',\r\n  data () {\r\n    return {\r\n      // 載入資料列表\r\n      tableData1: {\r\n        showNoData: '目前無資料',\r\n        headers: [\r\n          { text: '帳號', value: 'l_id', align: 'center' },\r\n          { text: '轉帳筆數', value: 'b_count', align: 'center' },\r\n          { text: '餘額總計', value: 'point', align: 'center' },\r\n          { text: '', value: 'data4', align: 'center' }\r\n        ],\r\n        contents: [],\r\n        totals: {\r\n          transferCount: '',\r\n          balanceTotal: ''\r\n        }\r\n      },\r\n      levelItem: {\r\n        1: '會員',\r\n        2: '代理',\r\n        3: '總代理',\r\n        4: '股東',\r\n        5: '大股東',\r\n        6: '總監',\r\n        7: '大總監'\r\n      },\r\n      level: this.$route.query.level,\r\n      account: '',\r\n      start_time: this.$route.query.start_time,\r\n      end_time: this.$route.query.end_time,\r\n      // 頁面載入狀態\r\n      loadingStatus: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      getListState: 'report/getListState'\r\n    })\r\n  },\r\n  watch: {\r\n    getListState (payload) {\r\n      console.log(payload)\r\n      this.tableData1.contents = payload.result\r\n      let total = 0\r\n      let balanceTotal = 0\r\n      for (let i in payload.result) {\r\n        // console.log(i, payload.result[i].b_count)\r\n        total = total + payload.result[i].b_count\r\n      }\r\n      for (let j in payload.result) {\r\n        // console.log(j, parseFloat(payload.result[j].point))\r\n        balanceTotal = balanceTotal + parseFloat(payload.result[j].point)\r\n      }\r\n      this.tableData1.totals.transferCount = total\r\n      this.tableData1.totals.balanceTotal = balanceTotal\r\n    }\r\n  },\r\n  mounted () {\r\n    this.loadList()\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      getList: 'api/getList'\r\n    }),\r\n    // 載入帳務紀錄搜尋結果資料\r\n    loadList (page, rowsPerPage) {\r\n      // 載入狀態(開始)\r\n      this.loadingStatus = true\r\n      let params = {\r\n        search_acc: this.$route.query.search_acc,\r\n        level: this.$route.query.level,\r\n        start_time: this.$route.query.start_time,\r\n        end_time: this.$route.query.end_time\r\n      }\r\n      this.getList(params)\r\n      .then(res => {\r\n          if (Object.prototype.toString.call(res) === '[object Error]' &&\r\n                res.hasOwnProperty('response') &&\r\n                res.response.status !== 200) {\r\n                this.toBack()\r\n            console.error(res.response)\r\n          } else if (res.status === 200) {\r\n            console.log('回傳成功')\r\n          }\r\n          // 載入狀態(結束)\r\n          this.loadingStatus = false\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          // 載入狀態(結束)\r\n          this.loadingStatus = false\r\n          this.toBack()\r\n        })\r\n    },\r\n    toBack () {\r\n      this.$router.push({\r\n        path: '/manage/report/billing-records'\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Result.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Result.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Result.vue?vue&type=template&id=87301190&\"\nimport script from \"./Result.vue?vue&type=script&lang=js&\"\nexport * from \"./Result.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Result.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Result.vue\"\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Result.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Result.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}