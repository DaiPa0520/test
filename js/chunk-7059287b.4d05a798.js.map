{"version":3,"sources":["webpack:///./src/views/guest/Login.vue?e3b7","webpack:///src/views/guest/Login.vue","webpack:///./src/views/guest/Login.vue?7794","webpack:///./src/views/guest/Login.vue","webpack:///./src/views/guest/Login.vue?add2"],"names":["name","data","lang","show","icon","site","logo","checkLoginClick","nowTime","clickTime","showPassword","loginInfo","valid","account","password","rules","checkbox","errorMsg","agreeRules","created","sessionStorage","removeItem","mounted","this","setViewport","initLanguage","init","logoutActive","$store","dispatch","clearSessionStorage","localStorage","clear","loadSiteInfo","$refs","form","resetValidation","destroyed","methods","loginActive","$toastr","error","$ln","Date","getTime","getItem","login","l_no","l_pwd","logout","contentItems","newContentItems","scaleStatus","forEach","item","push","component","_vm","_h","$createElement","_c","_self","staticClass","attrs","_e","ref","model","value","callback","$$v","$set","expression","on","$event","_k","keyCode","key","staticStyle","_v","_s","v","_l","i","url","img","options","__file"],"mappings":"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","file":"js/chunk-7059287b.4d05a798.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('v-container',{staticClass:\"pt-5\",attrs:{\"fluid\":\"\"}},[_c('div',{staticClass:\"dragonBoat\"},[_c('img',{attrs:{\"src\":\"/client/css/themes/dragonBoat/txt.png\"}})]),_c('v-layout',{attrs:{\"row\":\"\",\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"md4\":\"\",\"offset-md4\":\"\"}},[_c('div',{staticClass:\"loginBox\"},[_c('material-card',[_c('div',{staticClass:\"py-1 text-xs-center\"},[_c('div',{staticClass:\"logo\"},[(_vm.site.logo)?_c('img',{attrs:{\"src\":_vm.site.logo,\"alt\":_vm.$ln('管理端')}}):_vm._e()])]),_c('v-card-text',[(_vm.lang.show === 'true')?_c('SelectSelectLanguage',{attrs:{\"showLabel\":false,\"showIcon\":false,\"showText\":true,\"styleName\":\"Vuetify\"}}):_vm._e(),_c('v-form',{ref:\"form\",model:{value:(_vm.loginInfo.valid),callback:function ($$v) {_vm.$set(_vm.loginInfo, \"valid\", $$v)},expression:\"loginInfo.valid\"}},[_c('v-text-field',{attrs:{\"label\":_vm.$ln('請輸入您的管理帳號'),\"placeholder\":_vm.$ln('帳號'),\"color\":\"amber darken-3\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.loginActive()}},model:{value:(_vm.loginInfo.account),callback:function ($$v) {_vm.$set(_vm.loginInfo, \"account\", $$v)},expression:\"loginInfo.account\"}}),_c('v-text-field',{attrs:{\"append-icon\":_vm.showPassword ? 'mdi-eye' : 'mdi-eye-off',\"type\":_vm.showPassword ? 'text' : 'password',\"label\":_vm.$ln('請輸入您的管理密碼'),\"placeholder\":_vm.$ln('密碼'),\"color\":\"amber darken-3\"},on:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }_vm.loginActive()},\"click:append\":function () { return (_vm.showPassword = !_vm.showPassword); }},model:{value:(_vm.loginInfo.password),callback:function ($$v) {_vm.$set(_vm.loginInfo, \"password\", $$v)},expression:\"loginInfo.password\"}}),_c('div',{staticStyle:{\"min-height\":\"34px\"}},[_c('div',{staticClass:\"red--text caption\"},[_vm._v(_vm._s(_vm.errorMsg))])]),_c('v-btn',{attrs:{\"small\":\"\",\"block\":\"\",\"color\":\"green darken-3\",\"disabled\":!_vm.loginInfo.valid},on:{\"click\":function($event){_vm.loginActive()}}},[_vm._v(\"\\n                  \"+_vm._s(_vm.$ln('登入'))+\"\\n                \")]),_c('v-checkbox',{attrs:{\"label\":_vm.$ln('我同意遵守服務規則'),\"rules\":[function (v) { return !!v || _vm.$ln('尚未勾選遵守服務規則'); }],\"required\":\"\"},model:{value:(_vm.agreeRules),callback:function ($$v) {_vm.agreeRules=$$v},expression:\"agreeRules\"}}),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md8\":\"\",\"mb-2\":\"\"}},[_c('small',[_vm._v(_vm._s(_vm.$ln('建議使用瀏覽器(點擊下載)')))])]),_c('v-layout',{attrs:{\"warp\":\"\",\"row\":\"\"}},_vm._l((_vm.icon),function(item,i){return _c('v-flex',{key:i,attrs:{\"xs2\":\"\",\"sm1\":\"\",\"md1\":\"\",\"mr-1\":\"\"}},[_c('a',{attrs:{\"href\":item.url,\"target\":\"_blank\"}},[_c('v-img',{attrs:{\"src\":item.img,\"max-width\":\"33\",\"max-height\":\"33\"}})],1)])}),1)],1)],1)],1)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login\">\r\n    <v-container\r\n      fluid\r\n      class=\"pt-5\">\r\n      <div class=\"dragonBoat\">\r\n        <img src=\"/client/css/themes/dragonBoat/txt.png\">\r\n      </div>\r\n      <v-layout\r\n        row\r\n        fill-height>\r\n        <v-flex\r\n          xs12\r\n          md4\r\n          offset-md4>\r\n          <div class=\"loginBox\">\r\n            <material-card>\r\n              <div class=\"py-1 text-xs-center\">\r\n                <div class=\"logo\">\r\n                  <img v-if=\"site.logo\" :src=\"site.logo\" :alt=\"$ln('管理端')\">\r\n                </div>\r\n              </div>\r\n\r\n              <!-- <h1 class=\"h3 text-xs-center mt-0\">{{ site.name }}</h1> -->\r\n\r\n              <v-card-text>\r\n                <!-- 語系選單 -->\r\n                <SelectSelectLanguage\r\n                  v-if=\"lang.show === 'true'\"\r\n                  :showLabel=\"false\"\r\n                  :showIcon=\"false\"\r\n                  :showText=\"true\"\r\n                  styleName=\"Vuetify\"\r\n                />\r\n                <!-- valid : {{ loginInfo.valid }} -->\r\n                <v-form v-model=\"loginInfo.valid\" ref=\"form\">\r\n                  <!-- 帳號 @不過濾輸入欄，都由後端判斷@ -->\r\n                  <v-text-field\r\n                    v-model=\"loginInfo.account\"\r\n                    @keyup.enter=\"loginActive()\"\r\n                    :label=\"$ln('請輸入您的管理帳號')\"\r\n                    :placeholder=\"$ln('帳號')\"\r\n                    color=\"amber darken-3\"\r\n                  />\r\n\r\n                  <!-- 密碼 @不過濾輸入欄，都由後端判斷@ -->\r\n                  <v-text-field\r\n                    v-model=\"loginInfo.password\"\r\n                    @keyup.enter=\"loginActive()\"\r\n                    :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                    :type=\"showPassword ? 'text' : 'password'\"\r\n                    :label=\"$ln('請輸入您的管理密碼')\"\r\n                    :placeholder=\"$ln('密碼')\"\r\n                    color=\"amber darken-3\"\r\n                    @click:append=\"() => (showPassword = !showPassword)\"\r\n                  />\r\n                  <div style=\"min-height:34px\">\r\n                      <div class=\"red--text caption\">{{ errorMsg }}</div>\r\n                  </div>\r\n\r\n\r\n                  <!-- 登入 -->\r\n                  <v-btn\r\n                    small\r\n                    block\r\n                    color=\"green darken-3\"\r\n                    :disabled=\"!loginInfo.valid\"\r\n                    @click=\"loginActive()\">\r\n                    {{ $ln('登入') }}\r\n                  </v-btn>\r\n\r\n\r\n                  <!-- 我同意遵守服務規則勾選 -->\r\n                  <v-checkbox\r\n                    v-model=\"agreeRules\"\r\n                    :label=\"$ln('我同意遵守服務規則')\"\r\n                    :rules=\"[v => !!v || $ln('尚未勾選遵守服務規則')]\"\r\n                    required/>\r\n                    <v-flex xs12 sm8 md8 mb-2>\r\n                      <small>{{ $ln('建議使用瀏覽器(點擊下載)') }}</small>\r\n                    </v-flex>\r\n                  <!-- 瀏覽器下載圖示連結 -->\r\n                  <v-layout warp row>\r\n                    <v-flex xs2 sm1 md1 mr-1 v-for=\" (item,i) in icon \" :key=\"i\" >\r\n                      <!-- <v-icon>mdi-google</v-icon> -->\r\n                      <a :href=\"item.url\" target=\"_blank\">\r\n                        <v-img :src=\"item.img\" max-width=\"33\" max-height=\"33\" />\r\n                      </a>\r\n                    </v-flex>\r\n                  </v-layout>\r\n                </v-form>\r\n              </v-card-text>\r\n            </material-card>\r\n          </div>\r\n        </v-flex>\r\n      </v-layout>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport { common } from \"@/utils\";\r\nimport $ from 'jquery';\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      lang: {\r\n        show: process.env.VUE_APP_LANG\r\n      },\r\n      icon:[],\r\n      site: {\r\n        name: '', // *initLanguage*\r\n        // name:'登入資訊',\r\n        // logo:'https://via.placeholder.com/150' // https://via.placeholder.com/150 為預設 logo 圖\r\n        logo:''\r\n      },\r\n      checkLoginClick: {\r\n        // 當前時間\r\n        nowTime: \"\",\r\n        // 點擊時間\r\n        clickTime: \"\"\r\n      },\r\n      showPassword: false,\r\n      loginInfo: {\r\n        valid: true,\r\n        account: process.env.VUE_APP_ACCOUNT ? process.env.VUE_APP_ACCOUNT : \"\",\r\n        password: process.env.VUE_APP_PASSWORD ? process.env.VUE_APP_PASSWORD : \"\",\r\n        rules: [\r\n          v => (v || \"\").indexOf(\" \") < 0 || \"不能為空格\",\r\n          v => /^[A-Za-z0-9]+$/.test(v) || v === \"\" || \"需為英文或數字\"\r\n        ]\r\n        // rules: [\r\n        //   v => (v || \"\").indexOf(\" \") < 0 || \"不能為空格\",\r\n        //   v => /^[A-Za-z0-9]+$/.test(v) || v === \"\" || \"需為英文或數字\"\r\n        // ]\r\n      },\r\n      checkbox: false,\r\n      errorMsg: '',\r\n      agreeRules: true\r\n    };\r\n  },\r\n  created () {\r\n    // 移除登入API請求狀態\r\n    sessionStorage.removeItem(\"super.manage.request.login\");\r\n  },\r\n  mounted () {\r\n    // 手機版點擊輸入欄不縮放功能-設定不縮放\r\n    this.setViewport(false)\r\n\r\n    this.initLanguage()\r\n    this.init()\r\n    if (\r\n      this.$axios.defaults.headers.common[\"Authorization\"] &&\r\n      sessionStorage.getItem(\"super.manage.login.status\") &&\r\n      this.$route.query.status === \"logout\"\r\n    ) {\r\n      this.logoutActive();\r\n    }\r\n\r\n    // 清除個人資料\r\n    this.$store.dispatch(\"account-management/setProfile\", \"\");\r\n\r\n    // 清除 sessionStorage 資訊\r\n    this.clearSessionStorage();\r\n\r\n    // 清除登入帳號類別\r\n    // 說明：登出請求後有做清除，但怕沒執行登出請求而直接連到登入頁，所以這邊要再做清除\r\n    sessionStorage.removeItem(\"super.manage.login.type\");\r\n\r\n    // 由於暫時不用 localStorage，所以清除所有 localStorage 資訊\r\n    localStorage.clear()\r\n\r\n    this.loadSiteInfo()\r\n\r\n    this.$refs.form.resetValidation()\r\n  },\r\n  destroyed () {\r\n    // 手機版點擊輸入欄不縮放功能-設定縮放\r\n    this.setViewport(true)\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      login: \"api/login\",\r\n      logout: \"api/logout\",\r\n      setLanguage: \"api/setLanguage\"\r\n    }),\r\n    init(){\r\n      // 匹配字\r\n      let match = {\r\n        'vi' : 'vi' ,\r\n        \"zh-Hant\": \"zh-TW\",\r\n        \"zh-Hans\": \"zh-CN\",\r\n      }\r\n      let lang = (this.$store.state.lang==='')? match[process.env.VUE_APP_DEFAULT_LANGUAGE] : match[this.$store.state.lang]\r\n      this.icon = [\r\n        { name:'firefox' , url: `https://www.mozilla.org/${lang}/firefox/new/`, img:`${process.env.VUE_APP_ROUTER_BASE}img/browser/firefox-icon.png` },\r\n        { name:'google' , url: `https://www.google.com/intl/${lang}/chrome/` , img: `${process.env.VUE_APP_ROUTER_BASE}img/browser/chrome-icon.png` },\r\n        { name:'safri' , url: `https://support.apple.com/downloads/#safari` , img:`${process.env.VUE_APP_ROUTER_BASE}img/browser/safari-icon.png` },\r\n      ]\r\n    },\r\n    /* test */\r\n    async loadSiteInfo() {\r\n      try {\r\n        this.$mock.onGet(\"miscellaneous/siteName\").reply(200, {});\r\n        if (process.env.VUE_APP_DEMO_MODE !== \"true\") this.$mock.restore();\r\n        let res = await this.$axios.get(\"miscellaneous/siteName\", {});\r\n        // console.log(res)\r\n        if(res.data.result.logo){\r\n          this.site.name = res.data.result.name ;\r\n          this.site.logo = `${document.location.protocol}//${res.data.result.logo}` ;\r\n        }\r\n        return res;\r\n      } catch (error) {\r\n        return error;\r\n      }\r\n    },\r\n    loginActive() {\r\n      // 尚未驗證成功\r\n      if (!this.loginInfo.valid) return;\r\n\r\n      // 尚未輸入帳號\r\n      if (!this.loginInfo.account) {\r\n        this.$toastr.error(this.$ln('尚未輸入帳號'));\r\n        this.errorMsg = this.$ln('尚未輸入帳號');\r\n        return;\r\n      }\r\n      // 尚未輸入密碼\r\n      if (!this.loginInfo.password) {\r\n        this.$toastr.error(this.$ln('尚未輸入密碼'));\r\n        this.errorMsg = this.$ln('尚未輸入密碼');\r\n        return;\r\n      }\r\n      // 尚未勾選遵守服務規則\r\n      if (!this.agreeRules) {\r\n        this.$toastr.error(this.$ln('尚未勾選遵守服務規則'));\r\n        return;\r\n      }\r\n      try {\r\n        // 登入操作頻繁提示\r\n        this.checkLoginClick.nowTime = new Date().getTime();\r\n        if (\r\n          this.checkLoginClick.clickTime !== \"\" &&\r\n          this.checkLoginClick.nowTime - this.checkLoginClick.clickTime < 500\r\n        ) {\r\n          this.$toastr.error(this.$ln('操作過於頻繁！'));\r\n          this.errorMsg = this.$ln('操作過於頻繁！');\r\n          return;\r\n        }\r\n        this.checkLoginClick.clickTime = this.checkLoginClick.nowTime;\r\n\r\n        // 已登入不再請求登入API\r\n        if (sessionStorage.getItem(\"super.manage.request.login\")) return;\r\n\r\n        this.login({\r\n          l_no: this.loginInfo.account,\r\n          l_pwd: this.loginInfo.password\r\n        })\r\n          .then(res => {\r\n            if (\r\n              Object.prototype.toString.call(res) === \"[object Error]\" &&\r\n              res.hasOwnProperty(\"response\") &&\r\n              res.response.status !== 200\r\n            ) {\r\n              // 錯誤訊息\r\n              if (res.response.data.hasOwnProperty(\"errors\")) {\r\n                common.errorMsgHandler(res.response.data.errors);\r\n                this.errorMsg = res.response.data.errors.message;\r\n                console.log('api回傳錯誤', res.response.data.errors)\r\n              }\r\n                else {\r\n                  this.$toastr.error(\r\n                  `${this.loginInfo.account} ${this.$ln('登入失敗！請重新登入')}`\r\n                );\r\n              // 移除登入API請求狀態\r\n              sessionStorage.removeItem(\"super.manage.request.login\");\r\n              }\r\n            } else if (res.status === 200) {\r\n              // success\r\n              // 暫存登入API請求狀態\r\n              sessionStorage.setItem(\"super.manage.request.login\", true);\r\n              // 暫存登入狀態資訊\r\n              sessionStorage.setItem(\r\n                \"super.manage.login.status\",\r\n                `${this.loginInfo.account} login`\r\n              );\r\n              // 通知提示\r\n              this.$toastr.success(`${this.loginInfo.account} ${this.$ln('登入成功')}`, '', {timeOut: 2000, closeButton: false});\r\n              // 登入成功跳轉內頁 (@ 0916 改成跳轉公告頁 @)\r\n              this.$router.push({\r\n                path: \"/manage/announcement\"\r\n              });\r\n\r\n              // API 設定語系 (@該 API 不使用@)\r\n              // this.setLanguage({ lang: sessionStorage.getItem('i18n') ? sessionStorage.getItem('i18n') : process.env.VUE_APP_DEFAULT_LANGUAGE })\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.$toastr.error(`${this.loginInfo.account} ${this.$ln('登入失敗')}`);\r\n            console.error(`${this.$ln('登入失敗')}：`, err);\r\n            // 移除登入API請求狀態\r\n            sessionStorage.removeItem(\"super.manage.request.login\");\r\n          });\r\n      } catch (error) {\r\n        this.$toastr.error(this.$ln('站台資料錯誤，請聯絡客服'));\r\n        this.errorMsg = this.$ln('站台資料錯誤，請聯絡客服');\r\n        console.error(error);\r\n      }\r\n    },\r\n    logoutActive() {\r\n      try {\r\n        this.logout()\r\n          .then(res => {\r\n            if (\r\n              Object.prototype.toString.call(res) === \"[object Error]\" &&\r\n              res.hasOwnProperty(\"response\") &&\r\n              res.response.status !== 200\r\n            ) {\r\n              if (res.response.status === 400 || res.response.status === 401)\r\n                return;\r\n              // 錯誤訊息\r\n              if (res.response.data.hasOwnProperty(\"errors\"))\r\n                common.errorMsgHandler(res.response.data.errors);\r\n              else this.$toastr.error(`${this.$ln('登出失敗')}！`);\r\n            } else if (res.status === 200) {\r\n              // success\r\n              // 清除 sessionStorage 資訊\r\n              this.clearSessionStorage();\r\n\r\n              // http 200 回應錯誤訊息\r\n              if (res.data.hasOwnProperty(\"errors\")) {\r\n                console.error(\"response 200 error: \", res.data);\r\n              } else if (\r\n                res.data.hasOwnProperty(\"result\") &&\r\n                res.data.result.hasOwnProperty(\"message\")\r\n              ) {\r\n                // 通知提示\r\n                this.$toastr.success(res.data.result.message, '', {timeOut: 2000, closeButton: false});\r\n              }\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.$toastr.error(this.$ln('登出失敗'));\r\n            console.error(`${this.$ln('登出失敗')}：`, err);\r\n          });\r\n      } catch (error) {\r\n        this.$toastr.error(this.$ln('站台資料錯誤，請聯絡客服'));\r\n        this.errorMsg = this.$ln('站台資料錯誤，請聯絡客服');\r\n        console.error(error);\r\n      }\r\n    },\r\n    /**\r\n     * 設定版面縮放功能\r\n     * @param scaleStatus 是否縮放\r\n     **/\r\n    setViewport (scaleStatus) {\r\n      var contentItems = $('#viewport').prop('content').split(',')\r\n      var newContentItems = []\r\n      if (scaleStatus) {\r\n        contentItems.forEach((item, i) => {\r\n          if (item !== 'maximum-scale=1.0' && item !== 'user-scalable=0') newContentItems.push(item)\r\n        })\r\n        $('#viewport').prop('content', newContentItems.join(','))\r\n      } else {\r\n        contentItems.push('maximum-scale=1.0')\r\n        contentItems.push('user-scalable=0')\r\n        $('#viewport').prop('content', contentItems.join(','))\r\n      }\r\n    },\r\n    clearSessionStorage () {\r\n      // 清除暫存資訊 (@需要保留語系 session「i18n」，所以不能全部 session 刪除@)\r\n      sessionStorage.removeItem(\"super.manage.login.status\");\r\n      sessionStorage.removeItem(\"super.manage.name\");\r\n      sessionStorage.removeItem(\"super.manage.account\");\r\n      sessionStorage.removeItem(\"super.manage.ws\");\r\n      sessionStorage.removeItem(\"super.manage.level\");\r\n      sessionStorage.removeItem(\"super.manage.subLevel\");\r\n      sessionStorage.removeItem(\"super.manage.dashboard.info\");\r\n      sessionStorage.removeItem(\"super.manage.dashboard.info.unit\");\r\n      sessionStorage.removeItem(\"super.manage.dashboard.info.unit2\");\r\n      // 清除搜尋後的層級(當日、歷史、時間、未匯帳報表使用)\r\n      sessionStorage.removeItem(\"report.search.level\");\r\n      // 清除搜尋帳號(當日、歷史、時間、未匯帳報表使用)\r\n      sessionStorage.removeItem(\"report.search.account\");\r\n\r\n      // sessionStorage.clear()\r\n    },\r\n    // 初始語系\r\n    initLanguage () {\r\n      this.site.name = this.$ln('登入資訊')\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login {\r\n  .loginBox {\r\n    .logo {\r\n      width: 150px;\r\n      height: 150px;\r\n      // background-color: #fff;\r\n      display: inline-block;\r\n      padding: 5px;\r\n      // border: 1px solid #eee;\r\n      img {\r\n        padding: 0;\r\n        margin: 0;\r\n        width: 100%;\r\n      }\r\n    }\r\n  }\r\n\r\n  /* 端午節 主題包字體css 登入按鈕顏色也要記得調整唷！！*/\r\n  .dragonBoat img {\r\n    position: absolute;\r\n    left: 45px;\r\n    width: 28%;\r\n    top: 38%;\r\n  }\r\n  // 登入匡的透明度\r\n  .theme--light.v-sheet {\r\n    background-color: rgba(255, 255, 255, 0.53);\r\n  }\r\n  @media (max-width:1024px) {\r\n    .dragonBoat img{\r\n      display: none;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=4a97d63c&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=4a97d63c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a97d63c\",\n  null\n  \n)\n\ncomponent.options.__file = \"Login.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=4a97d63c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=4a97d63c&lang=scss&scoped=true&\""],"sourceRoot":""}